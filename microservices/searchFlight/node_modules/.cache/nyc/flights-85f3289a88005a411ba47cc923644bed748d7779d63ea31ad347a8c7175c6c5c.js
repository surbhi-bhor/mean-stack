function cov_2pq9vl3l2k(){var path="C:\\Users\\Surbhi bhor\\Desktop\\Case study\\microservices\\searchFlight\\flights.js";var hash="61d268e4796393dd42fdd57c1c102938e9c4cd70";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Surbhi bhor\\Desktop\\Case study\\microservices\\searchFlight\\flights.js",statementMap:{"0":{start:{line:2,column:16},end:{line:2,column:34}},"1":{start:{line:3,column:12},end:{line:3,column:21}},"2":{start:{line:4,column:19},end:{line:4,column:41}},"3":{start:{line:5,column:0},end:{line:5,column:27}},"4":{start:{line:8,column:21},end:{line:8,column:45}},"5":{start:{line:9,column:18},end:{line:9,column:47}},"6":{start:{line:12,column:13},end:{line:12,column:28}},"7":{start:{line:13,column:0},end:{line:13,column:49}},"8":{start:{line:15,column:17},end:{line:15,column:36}},"9":{start:{line:18,column:0},end:{line:20,column:33}},"10":{start:{line:19,column:11},end:{line:19,column:47}},"11":{start:{line:20,column:15},end:{line:20,column:31}},"12":{start:{line:22,column:0},end:{line:22,column:20}},"13":{start:{line:23,column:15},end:{line:23,column:39}},"14":{start:{line:30,column:23},end:{line:44,column:3}},"15":{start:{line:46,column:22},end:{line:46,column:50}},"16":{start:{line:47,column:2},end:{line:47,column:72}},"17":{start:{line:49,column:2},end:{line:49,column:26}},"18":{start:{line:82,column:0},end:{line:84,column:2}},"19":{start:{line:83,column:4},end:{line:83,column:39}},"20":{start:{line:109,column:0},end:{line:130,column:2}},"21":{start:{line:110,column:20},end:{line:116,column:5}},"22":{start:{line:119,column:17},end:{line:119,column:38}},"23":{start:{line:120,column:4},end:{line:128,column:6}},"24":{start:{line:121,column:8},end:{line:121,column:40}},"25":{start:{line:122,column:8},end:{line:122,column:34}},"26":{start:{line:125,column:8},end:{line:127,column:9}},"27":{start:{line:126,column:12},end:{line:126,column:22}},"28":{start:{line:147,column:0},end:{line:152,column:2}},"29":{start:{line:148,column:4},end:{line:151,column:6}},"30":{start:{line:149,column:8},end:{line:149,column:25}},"31":{start:{line:177,column:0},end:{line:190,column:3}},"32":{start:{line:178,column:4},end:{line:189,column:6}},"33":{start:{line:179,column:8},end:{line:184,column:9}},"34":{start:{line:180,column:12},end:{line:180,column:29}},"35":{start:{line:183,column:12},end:{line:183,column:32}},"36":{start:{line:186,column:8},end:{line:188,column:9}},"37":{start:{line:187,column:12},end:{line:187,column:22}},"38":{start:{line:217,column:0},end:{line:230,column:3}},"39":{start:{line:218,column:4},end:{line:229,column:6}},"40":{start:{line:219,column:8},end:{line:224,column:9}},"41":{start:{line:220,column:12},end:{line:220,column:29}},"42":{start:{line:223,column:12},end:{line:223,column:32}},"43":{start:{line:226,column:8},end:{line:228,column:9}},"44":{start:{line:227,column:12},end:{line:227,column:22}},"45":{start:{line:264,column:0},end:{line:278,column:3}},"46":{start:{line:265,column:17},end:{line:265,column:48}},"47":{start:{line:266,column:22},end:{line:266,column:58}},"48":{start:{line:268,column:4},end:{line:277,column:6}},"49":{start:{line:270,column:12},end:{line:270,column:29}},"50":{start:{line:271,column:12},end:{line:271,column:32}},"51":{start:{line:274,column:8},end:{line:276,column:9}},"52":{start:{line:275,column:12},end:{line:275,column:22}},"53":{start:{line:304,column:0},end:{line:315,column:5}},"54":{start:{line:305,column:4},end:{line:314,column:6}},"55":{start:{line:306,column:8},end:{line:306,column:26}},"56":{start:{line:307,column:8},end:{line:307,column:40}},"57":{start:{line:311,column:6},end:{line:313,column:7}},"58":{start:{line:312,column:8},end:{line:312,column:18}},"59":{start:{line:349,column:0},end:{line:367,column:5}},"60":{start:{line:350,column:20},end:{line:356,column:5}},"61":{start:{line:357,column:4},end:{line:366,column:6}},"62":{start:{line:359,column:6},end:{line:359,column:36}},"63":{start:{line:361,column:2},end:{line:361,column:26}},"64":{start:{line:363,column:6},end:{line:365,column:7}},"65":{start:{line:364,column:8},end:{line:364,column:18}},"66":{start:{line:371,column:0},end:{line:373,column:2}},"67":{start:{line:372,column:4},end:{line:372,column:68}},"68":{start:{line:375,column:0},end:{line:375,column:19}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:19,column:6},end:{line:19,column:7}},loc:{start:{line:19,column:11},end:{line:19,column:47}},line:19},"1":{name:"(anonymous_1)",decl:{start:{line:20,column:7},end:{line:20,column:8}},loc:{start:{line:20,column:15},end:{line:20,column:31}},line:20},"2":{name:"(anonymous_2)",decl:{start:{line:82,column:13},end:{line:82,column:14}},loc:{start:{line:82,column:24},end:{line:84,column:1}},line:82},"3":{name:"(anonymous_3)",decl:{start:{line:109,column:20},end:{line:109,column:21}},loc:{start:{line:109,column:32},end:{line:130,column:1}},line:109},"4":{name:"(anonymous_4)",decl:{start:{line:120,column:23},end:{line:120,column:24}},loc:{start:{line:120,column:32},end:{line:124,column:5}},line:120},"5":{name:"(anonymous_5)",decl:{start:{line:124,column:14},end:{line:124,column:15}},loc:{start:{line:124,column:23},end:{line:128,column:5}},line:124},"6":{name:"(anonymous_6)",decl:{start:{line:147,column:20},end:{line:147,column:21}},loc:{start:{line:147,column:32},end:{line:152,column:1}},line:147},"7":{name:"(anonymous_7)",decl:{start:{line:148,column:23},end:{line:148,column:24}},loc:{start:{line:148,column:34},end:{line:151,column:5}},line:148},"8":{name:"(anonymous_8)",decl:{start:{line:177,column:34},end:{line:177,column:35}},loc:{start:{line:177,column:47},end:{line:190,column:1}},line:177},"9":{name:"(anonymous_9)",decl:{start:{line:178,column:61},end:{line:178,column:62}},loc:{start:{line:178,column:72},end:{line:185,column:5}},line:178},"10":{name:"(anonymous_10)",decl:{start:{line:185,column:13},end:{line:185,column:14}},loc:{start:{line:185,column:19},end:{line:189,column:5}},line:185},"11":{name:"(anonymous_11)",decl:{start:{line:217,column:22},end:{line:217,column:23}},loc:{start:{line:217,column:35},end:{line:230,column:1}},line:217},"12":{name:"(anonymous_12)",decl:{start:{line:218,column:41},end:{line:218,column:42}},loc:{start:{line:218,column:52},end:{line:225,column:5}},line:218},"13":{name:"(anonymous_13)",decl:{start:{line:225,column:13},end:{line:225,column:14}},loc:{start:{line:225,column:19},end:{line:229,column:5}},line:225},"14":{name:"(anonymous_14)",decl:{start:{line:264,column:39},end:{line:264,column:40}},loc:{start:{line:264,column:52},end:{line:278,column:1}},line:264},"15":{name:"(anonymous_15)",decl:{start:{line:268,column:68},end:{line:268,column:69}},loc:{start:{line:268,column:79},end:{line:273,column:5}},line:268},"16":{name:"(anonymous_16)",decl:{start:{line:273,column:13},end:{line:273,column:14}},loc:{start:{line:273,column:19},end:{line:277,column:5}},line:273},"17":{name:"(anonymous_17)",decl:{start:{line:304,column:34},end:{line:304,column:35}},loc:{start:{line:304,column:48},end:{line:315,column:3}},line:304},"18":{name:"(anonymous_18)",decl:{start:{line:305,column:70},end:{line:305,column:71}},loc:{start:{line:305,column:84},end:{line:310,column:5}},line:305},"19":{name:"(anonymous_19)",decl:{start:{line:310,column:13},end:{line:310,column:14}},loc:{start:{line:310,column:20},end:{line:314,column:5}},line:310},"20":{name:"(anonymous_20)",decl:{start:{line:349,column:23},end:{line:349,column:24}},loc:{start:{line:349,column:37},end:{line:367,column:3}},line:349},"21":{name:"(anonymous_21)",decl:{start:{line:358,column:45},end:{line:358,column:46}},loc:{start:{line:358,column:59},end:{line:362,column:5}},line:358},"22":{name:"(anonymous_22)",decl:{start:{line:362,column:13},end:{line:362,column:14}},loc:{start:{line:362,column:20},end:{line:366,column:5}},line:362},"23":{name:"(anonymous_23)",decl:{start:{line:371,column:17},end:{line:371,column:18}},loc:{start:{line:371,column:23},end:{line:373,column:1}},line:371}},branchMap:{"0":{loc:{start:{line:125,column:8},end:{line:127,column:9}},type:"if",locations:[{start:{line:125,column:8},end:{line:127,column:9}},{start:{line:125,column:8},end:{line:127,column:9}}],line:125},"1":{loc:{start:{line:179,column:8},end:{line:184,column:9}},type:"if",locations:[{start:{line:179,column:8},end:{line:184,column:9}},{start:{line:179,column:8},end:{line:184,column:9}}],line:179},"2":{loc:{start:{line:186,column:8},end:{line:188,column:9}},type:"if",locations:[{start:{line:186,column:8},end:{line:188,column:9}},{start:{line:186,column:8},end:{line:188,column:9}}],line:186},"3":{loc:{start:{line:219,column:8},end:{line:224,column:9}},type:"if",locations:[{start:{line:219,column:8},end:{line:224,column:9}},{start:{line:219,column:8},end:{line:224,column:9}}],line:219},"4":{loc:{start:{line:226,column:8},end:{line:228,column:9}},type:"if",locations:[{start:{line:226,column:8},end:{line:228,column:9}},{start:{line:226,column:8},end:{line:228,column:9}}],line:226},"5":{loc:{start:{line:274,column:8},end:{line:276,column:9}},type:"if",locations:[{start:{line:274,column:8},end:{line:276,column:9}},{start:{line:274,column:8},end:{line:276,column:9}}],line:274},"6":{loc:{start:{line:311,column:6},end:{line:313,column:7}},type:"if",locations:[{start:{line:311,column:6},end:{line:313,column:7}},{start:{line:311,column:6},end:{line:313,column:7}}],line:311},"7":{loc:{start:{line:363,column:6},end:{line:365,column:7}},type:"if",locations:[{start:{line:363,column:6},end:{line:365,column:7}},{start:{line:363,column:6},end:{line:365,column:7}}],line:363}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"61d268e4796393dd42fdd57c1c102938e9c4cd70"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2pq9vl3l2k=function(){return actualCoverage;};}return actualCoverage;}cov_2pq9vl3l2k();//load express
const express=(cov_2pq9vl3l2k().s[0]++,require("express"));const app=(cov_2pq9vl3l2k().s[1]++,express());const bodyParser=(cov_2pq9vl3l2k().s[2]++,require("body-parser"));cov_2pq9vl3l2k().s[3]++;app.use(bodyParser.json());//load swagger
const swaggerJsDoc=(cov_2pq9vl3l2k().s[4]++,require("swagger-jsdoc"));const swaggerUi=(cov_2pq9vl3l2k().s[5]++,require("swagger-ui-express"));//load cors
const cors=(cov_2pq9vl3l2k().s[6]++,require('cors'));cov_2pq9vl3l2k().s[7]++;app.use(cors({origin:'http://localhost:4200'}));//load mongoose
const mongoose=(cov_2pq9vl3l2k().s[8]++,require("mongoose"));//---------------------------------------------------------------------------------------------------------------------------------------------
//connect to database
cov_2pq9vl3l2k().s[9]++;mongoose.connect("mongodb+srv://surbhi:12345@flight.paxk2.mongodb.net/flightData",{useNewUrlParser:true,useUnifiedTopology:true}).then(()=>{cov_2pq9vl3l2k().f[0]++;cov_2pq9vl3l2k().s[10]++;return console.log("Connected to database");}).catch(err=>{cov_2pq9vl3l2k().f[1]++;cov_2pq9vl3l2k().s[11]++;return console.log(err);});//load its model
cov_2pq9vl3l2k().s[12]++;require("./Flight");const Flight=(cov_2pq9vl3l2k().s[13]++,mongoose.model("Flight"));//---------------------------------------------------------------------------------------------------------------------------------------------
//         SWAGGER DOCUMENTATION
// Extended: https://swagger.io/specification/#infoObject
const swaggerOptions=(cov_2pq9vl3l2k().s[14]++,{swaggerDefinition:{info:{version:"1.0.0",title:"Flight API",description:"Flight API Information",contact:{name:"Surbhi"},servers:["http://localhost:4545"]}},// ['.routes/*.js']
apis:["flights.js"]});const swaggerDocs=(cov_2pq9vl3l2k().s[15]++,swaggerJsDoc(swaggerOptions));cov_2pq9vl3l2k().s[16]++;app.use("/api-flight",swaggerUi.serve,swaggerUi.setup(swaggerDocs));cov_2pq9vl3l2k().s[17]++;app.use(express.json());/**
 * @swagger
 * definitions:
 *  Flight:
 *   type: object
 *   properties:
 *    flightCode:
 *      type: string
 *      description: code of the flight
 *      example: 'SC101'
 *    airline:
 *      type: string
 *      description: name of the airline
 *      example: 'SpiceJet'
 *    source:
 *      type: string
 *      description: source
 *      example: 'mumbai'
 *    destination:
 *      type: string
 *      description: Destination
 *      example: 'delhi'
 *    fare:
 *      type: number
 *      description: fare of the flight
 *      example: 2000
 *    
 */ //---------------------------------------------------------------------------------------------------------------------------------------------
//render home page
cov_2pq9vl3l2k().s[18]++;app.get('/',(req,res)=>{cov_2pq9vl3l2k().f[2]++;cov_2pq9vl3l2k().s[19]++;res.send("This is search service");});//---------------------------------------------------------------------------------------------------------------------------------------------
// 1] create functionality
/**
 * @swagger
 * /flight:
 *   post:
 *     tags:
 *       - Flights
 *     description: Creates a new flight
 *     produces:
 *       - application/json
 *     parameters:
 *       - name: flight
 *         description: Flight object
 *         in: body
 *         required: true
 *         schema:
 *           $ref: '#/definitions/Flight'
 *     responses:
 *       200:
 *         description: Successfully created
 */cov_2pq9vl3l2k().s[20]++;app.post("/flight",(req,res)=>{cov_2pq9vl3l2k().f[3]++;var newFlight=(cov_2pq9vl3l2k().s[21]++,{flightCode:req.body.flightCode,airline:req.body.airline,source:req.body.source,destination:req.body.destination,fare:req.body.fare});//create new flight
var flight=(cov_2pq9vl3l2k().s[22]++,new Flight(newFlight));cov_2pq9vl3l2k().s[23]++;flight.save().then(data=>{cov_2pq9vl3l2k().f[4]++;cov_2pq9vl3l2k().s[24]++;console.log("New Flight added");cov_2pq9vl3l2k().s[25]++;res.status(200).send(data);//res.json(data)        
}).catch(err=>{cov_2pq9vl3l2k().f[5]++;cov_2pq9vl3l2k().s[26]++;if(err){cov_2pq9vl3l2k().b[0][0]++;cov_2pq9vl3l2k().s[27]++;throw err;}else{cov_2pq9vl3l2k().b[0][1]++;}});//res.send("New flight added successfully")
});//---------------------------------------------------------------------------------------------------------------------------------------------
// 2] RETRIEVE ALL FLIGHTS
/**
 * @swagger
 * /flights:
 *  get:
 *    tags:
 *       - Flights
 *    description: Used to get all flights in database
 *    responses:
 *      '200':
 *        description: Successfully fetched flight
 *      '500':
 *        description: Server error
 */cov_2pq9vl3l2k().s[28]++;app.get("/flights",(req,res)=>{cov_2pq9vl3l2k().f[6]++;cov_2pq9vl3l2k().s[29]++;Flight.find().then(flights=>{cov_2pq9vl3l2k().f[7]++;cov_2pq9vl3l2k().s[30]++;res.json(flights);//console.log(flights);
});});//---------------------------------------------------------------------------------------------------------------------------------------------
// 3] retrieve flight by the code
/**
 * @swagger
 * /flightCode/{flightCode}:
 *  get:
 *    tags:
 *       - Flights
 *    summary: Fetch a flight.
 *    description: Used to fetch a single flight
 *    responses:
 *      '200':
 *        description: Successfully fetched flight
 *      '500':
 *        description: Server error
 *  parameters:
 *       - in: path
 *         name: flightCode
 *         required: true
 *         schema:
 *           type: String
 *         description: The flight code
 */cov_2pq9vl3l2k().s[31]++;app.get("/flightCode/:flightCode",(req,res)=>{cov_2pq9vl3l2k().f[8]++;cov_2pq9vl3l2k().s[32]++;Flight.findOne({flightCode:req.params.flightCode}).then(flight=>{cov_2pq9vl3l2k().f[9]++;cov_2pq9vl3l2k().s[33]++;if(flight){cov_2pq9vl3l2k().b[1][0]++;cov_2pq9vl3l2k().s[34]++;res.send(flight);}else{cov_2pq9vl3l2k().b[1][1]++;cov_2pq9vl3l2k().s[35]++;res.sendStatus(404);}}).catch(err=>{cov_2pq9vl3l2k().f[10]++;cov_2pq9vl3l2k().s[36]++;if(err){cov_2pq9vl3l2k().b[2][0]++;cov_2pq9vl3l2k().s[37]++;throw err;}else{cov_2pq9vl3l2k().b[2][1]++;}});});//---------------------------------------------------------------------------------------------------------------------------------------------
// 4] Retrieve flight by their id 
/**
 * @swagger
 * /flight/{id}:
 *  get:
 *    tags:
 *       - Flights
 *    summary: Fetch a flight.
 *    description: Used to fetch a single flight
 *    responses:
 *      '200':
 *        description: Successfully fetched flight
 *      '500':
 *        description: Server error
 *  parameters:
 *       - in: path
 *         name: id
 *         required: true
 *         schema:
 *           type: integer
 *         description: The flight ID
 */cov_2pq9vl3l2k().s[38]++;app.get("/flight/:id",(req,res)=>{cov_2pq9vl3l2k().f[11]++;cov_2pq9vl3l2k().s[39]++;Flight.findById(req.params.id).then(flight=>{cov_2pq9vl3l2k().f[12]++;cov_2pq9vl3l2k().s[40]++;if(flight){cov_2pq9vl3l2k().b[3][0]++;cov_2pq9vl3l2k().s[41]++;res.json(flight);}else{cov_2pq9vl3l2k().b[3][1]++;cov_2pq9vl3l2k().s[42]++;res.sendStatus(404);}}).catch(err=>{cov_2pq9vl3l2k().f[13]++;cov_2pq9vl3l2k().s[43]++;if(err){cov_2pq9vl3l2k().b[4][0]++;cov_2pq9vl3l2k().s[44]++;throw err;}else{cov_2pq9vl3l2k().b[4][1]++;}});});//---------------------------------------------------------------------------------------------------------------------------------------------
// 5] Retrieve flight by source and destination
/**
 * @swagger
 * /flight/{source}/{destination}:
 *  get:
 *    tags:
 *       - Flights
 *    summary: Search flights
 *    description: Used to search flights
 *    responses:
 *      '200':
 *        description: Successfully searched flights
 *      '500':
 *        description: Server error
 *  parameters:
 *       - in: path
 *         name: source
 *         required: true
 *         schema:
 *           type: String
 *         description: Source
 * 
 *       - in: path
 *         name: destination
 *         required: true
 *         schema:
 *           type: String
 *         description: Destination
 *       
 */cov_2pq9vl3l2k().s[45]++;app.get("/flight/:source/:destination",(req,res)=>{cov_2pq9vl3l2k().f[14]++;let source=(cov_2pq9vl3l2k().s[46]++,req.params.source.toLowerCase());let destination=(cov_2pq9vl3l2k().s[47]++,req.params.destination.toLowerCase());cov_2pq9vl3l2k().s[48]++;Flight.findOne({source:source,destination:destination}).then(flight=>{cov_2pq9vl3l2k().f[15]++;cov_2pq9vl3l2k().s[49]++;res.json(flight);cov_2pq9vl3l2k().s[50]++;console.log(flight);}).catch(err=>{cov_2pq9vl3l2k().f[16]++;cov_2pq9vl3l2k().s[51]++;if(err){cov_2pq9vl3l2k().b[5][0]++;cov_2pq9vl3l2k().s[52]++;throw err;}else{cov_2pq9vl3l2k().b[5][1]++;}});});//---------------------------------------------------------------------------------------------------------------------------------------------
// 6] removing flights
/**
 * @swagger
 * /flight/{flightCode}:
 *  delete:
 *    tags:
 *       - Flights
 *    summary: Delete a flight.
 *    description: Used to delete a flight
 *    responses:
 *      '200':
 *        description: Successfully deleted flight
 *      '500':
 *        description: Server error
 *  parameters:
 *       - in: path
 *         name: flightCode
 *         required: true
 *         schema:
 *           type: String
 *         description: The flight ID
 */cov_2pq9vl3l2k().s[53]++;app.delete('/flight/:flightCode',(req,res)=>{cov_2pq9vl3l2k().f[17]++;cov_2pq9vl3l2k().s[54]++;Flight.findOneAndRemove({flightCode:req.params.flightCode}).then(response=>{cov_2pq9vl3l2k().f[18]++;cov_2pq9vl3l2k().s[55]++;res.send(response);cov_2pq9vl3l2k().s[56]++;console.log(` flight deleted`);//res.send("Flight removed successfully");
//console.log(flight);
}).catch(err=>{cov_2pq9vl3l2k().f[19]++;cov_2pq9vl3l2k().s[57]++;if(err){cov_2pq9vl3l2k().b[6][0]++;cov_2pq9vl3l2k().s[58]++;throw err;}else{cov_2pq9vl3l2k().b[6][1]++;}});});//---------------------------------------------------------------------------------------------------------------------------------------------
// 7]  UPDATING FLIGHT
/**
 * @swagger
 * /flight/{id}:
 *   put:
 *     tags:
 *       - Flights
 *     description: Creates a new flight
 *     produces:
 *       - application/json
 *     parameters:
 *       - name: id
 *         description: flight object id
 *         in: path
 *         required: true
 *         schema:
 *          type: string
 *          description: user's object id
 *       - name: flight
 *         description: Flight object
 *         in: body
 *         required: true
 *         schema:
 *           $ref: '#/definitions/Flight'
 *     responses:
 *       200:
 *         description: Flight Successfully updated
 *       400:
 *         description: Server Error
 */cov_2pq9vl3l2k().s[59]++;app.put('/flight/:id',(req,res)=>{cov_2pq9vl3l2k().f[20]++;var newFlight=(cov_2pq9vl3l2k().s[60]++,{airline:req.body.airline,flightCode:req.body.flightCode,source:req.body.source,destination:req.body.destination,fare:req.body.fare});cov_2pq9vl3l2k().s[61]++;Flight.findByIdAndUpdate(req.params.id,{"$set":newFlight},{new:true}).then(response=>{cov_2pq9vl3l2k().f[21]++;cov_2pq9vl3l2k().s[62]++;console.log(`flight updated`);cov_2pq9vl3l2k().s[63]++;res.send(response.data);}).catch(err=>{cov_2pq9vl3l2k().f[22]++;cov_2pq9vl3l2k().s[64]++;if(err){cov_2pq9vl3l2k().b[7][0]++;cov_2pq9vl3l2k().s[65]++;throw err;}else{cov_2pq9vl3l2k().b[7][1]++;}});});//---------------------------------------------------------------------------------------------------------------------------------------------
//listen to the port
cov_2pq9vl3l2k().s[66]++;app.listen(4545,()=>{cov_2pq9vl3l2k().f[23]++;cov_2pq9vl3l2k().s[67]++;console.log("Up and running this is our flight search service");});cov_2pq9vl3l2k().s[68]++;module.exports=app;// app.delete('/flight/:id', (req, res) => {
//     Flight.deleteOne({id:req.params.id}).then((response) => {
//       res.send("Flight removed successfully");
//       //console.log(flight);
//     }).catch(err => {
//       if(err){
//         throw err;
//       }
//     })
//   });
//---------------------------------------------------------------------------------------------------------------------------------------------
// 7] Updating flights
// app.put('/flight/:flightCode', (req,res) => {
//     Flight.updateOne({flightCode: req.params.flightCode}, req.body).then((response) => {
//     Flight.findOne({flightCode: req.params.flightCode}).then(function(flight){
//         res.send(flight); 
//     })
//         //res.send("Flight updated successfully");
// }).catch(err => {
//     if(err){
//       throw err;
//     }
//   })
// });
// app.put('/flight/:id', (req,res) => {
//     Flight.findByIdAndUpdate( req.params.id).then((response) => {
//          res.send(response.data)
//          console.log("Flight updated sucessfully");
//         //res.send("Flight updated successfully");
// }).catch(err => {
//     if(err){
//       throw err;
//     }
//   })
// });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZsaWdodHMuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJhcHAiLCJib2R5UGFyc2VyIiwidXNlIiwianNvbiIsInN3YWdnZXJKc0RvYyIsInN3YWdnZXJVaSIsImNvcnMiLCJvcmlnaW4iLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIiwiRmxpZ2h0IiwibW9kZWwiLCJzd2FnZ2VyT3B0aW9ucyIsInN3YWdnZXJEZWZpbml0aW9uIiwiaW5mbyIsInZlcnNpb24iLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiY29udGFjdCIsIm5hbWUiLCJzZXJ2ZXJzIiwiYXBpcyIsInN3YWdnZXJEb2NzIiwic2VydmUiLCJzZXR1cCIsImdldCIsInJlcSIsInJlcyIsInNlbmQiLCJwb3N0IiwibmV3RmxpZ2h0IiwiZmxpZ2h0Q29kZSIsImJvZHkiLCJhaXJsaW5lIiwic291cmNlIiwiZGVzdGluYXRpb24iLCJmYXJlIiwiZmxpZ2h0Iiwic2F2ZSIsImRhdGEiLCJzdGF0dXMiLCJmaW5kIiwiZmxpZ2h0cyIsImZpbmRPbmUiLCJwYXJhbXMiLCJzZW5kU3RhdHVzIiwiZmluZEJ5SWQiLCJpZCIsInRvTG93ZXJDYXNlIiwiZGVsZXRlIiwiZmluZE9uZUFuZFJlbW92ZSIsInJlc3BvbnNlIiwicHV0IiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJuZXciLCJsaXN0ZW4iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiZ3pVQWVZOzJGQWZaO0FBQ0EsS0FBTUEsQ0FBQUEsT0FBTywwQkFBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBVixDQUFiLENBQ0EsS0FBTUMsQ0FBQUEsR0FBRywwQkFBR0YsT0FBTyxFQUFWLENBQVQsQ0FDQSxLQUFNRyxDQUFBQSxVQUFVLDBCQUFHRixPQUFPLENBQUMsYUFBRCxDQUFWLENBQWhCLEMsd0JBQ0FDLEdBQUcsQ0FBQ0UsR0FBSixDQUFRRCxVQUFVLENBQUNFLElBQVgsRUFBUixFQUVBO0FBQ0EsS0FBTUMsQ0FBQUEsWUFBWSwwQkFBR0wsT0FBTyxDQUFDLGVBQUQsQ0FBVixDQUFsQixDQUNBLEtBQU1NLENBQUFBLFNBQVMsMEJBQUdOLE9BQU8sQ0FBQyxvQkFBRCxDQUFWLENBQWYsQ0FFQTtBQUNBLEtBQU1PLENBQUFBLElBQUksMEJBQUdQLE9BQU8sQ0FBQyxNQUFELENBQVYsQ0FBVixDLHdCQUNBQyxHQUFHLENBQUNFLEdBQUosQ0FBUUksSUFBSSxDQUFDLENBQUVDLE1BQU0sQ0FBRSx1QkFBVixDQUFELENBQVosRUFDQTtBQUNBLEtBQU1DLENBQUFBLFFBQVEsMEJBQUdULE9BQU8sQ0FBQyxVQUFELENBQVYsQ0FBZCxDQUNBO0FBQ0E7d0JBQ0FTLFFBQVEsQ0FBQ0MsT0FBVCxDQUFpQixnRUFBakIsQ0FBa0YsQ0FBQ0MsZUFBZSxDQUFFLElBQWxCLENBQXdCQyxrQkFBa0IsQ0FBQyxJQUEzQyxDQUFsRixFQUNDQyxJQURELENBQ00sSUFBSyx3REFBQUMsQ0FBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksdUJBQVosRUFBb0MsQ0FEL0MsRUFFQ0MsS0FGRCxDQUVRQyxHQUFELEVBQVEsd0RBQUFILENBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxHQUFaLEVBQWdCLENBRi9CLEVBR0E7eUJBQ0FqQixPQUFPLENBQUMsVUFBRCxDQUFQLENBQ0EsS0FBTWtCLENBQUFBLE1BQU0sMkJBQUdULFFBQVEsQ0FBQ1UsS0FBVCxDQUFlLFFBQWYsQ0FBSCxDQUFaLENBRUE7QUFFQTtBQUVBO0FBQ0EsS0FBTUMsQ0FBQUEsY0FBYywyQkFBRyxDQUNuQkMsaUJBQWlCLENBQUUsQ0FDakJDLElBQUksQ0FBRSxDQUNKQyxPQUFPLENBQUUsT0FETCxDQUVKQyxLQUFLLENBQUUsWUFGSCxDQUdKQyxXQUFXLENBQUUsd0JBSFQsQ0FJSkMsT0FBTyxDQUFFLENBQ1BDLElBQUksQ0FBRSxRQURDLENBSkwsQ0FPSkMsT0FBTyxDQUFFLENBQUMsdUJBQUQsQ0FQTCxDQURXLENBREEsQ0FZbkI7QUFDQUMsSUFBSSxDQUFFLENBQUMsWUFBRCxDQWJhLENBQUgsQ0FBcEIsQ0FnQkUsS0FBTUMsQ0FBQUEsV0FBVywyQkFBR3pCLFlBQVksQ0FBQ2UsY0FBRCxDQUFmLENBQWpCLEMseUJBQ0FuQixHQUFHLENBQUNFLEdBQUosQ0FBUSxhQUFSLENBQXVCRyxTQUFTLENBQUN5QixLQUFqQyxDQUF3Q3pCLFNBQVMsQ0FBQzBCLEtBQVYsQ0FBZ0JGLFdBQWhCLENBQXhDLEUseUJBRUE3QixHQUFHLENBQUNFLEdBQUosQ0FBUUosT0FBTyxDQUFDSyxJQUFSLEVBQVIsRUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHLENBR0E7QUFDQTt5QkFDQUgsR0FBRyxDQUFDZ0MsR0FBSixDQUFRLEdBQVIsQ0FBYSxDQUFDQyxHQUFELENBQUtDLEdBQUwsR0FBVyxrREFDcEJBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTLHdCQUFULEVBQ0gsQ0FGRCxFQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEcseUJBRUFuQyxHQUFHLENBQUNvQyxJQUFKLENBQVMsU0FBVCxDQUFvQixDQUFDSCxHQUFELENBQUtDLEdBQUwsR0FBWSx5QkFDNUIsR0FBSUcsQ0FBQUEsU0FBUywyQkFBRyxDQUNaQyxVQUFVLENBQUVMLEdBQUcsQ0FBQ00sSUFBSixDQUFTRCxVQURULENBRVpFLE9BQU8sQ0FBRVAsR0FBRyxDQUFDTSxJQUFKLENBQVNDLE9BRk4sQ0FHWkMsTUFBTSxDQUFFUixHQUFHLENBQUNNLElBQUosQ0FBU0UsTUFITCxDQUlaQyxXQUFXLENBQUVULEdBQUcsQ0FBQ00sSUFBSixDQUFTRyxXQUpWLENBS1pDLElBQUksQ0FBRVYsR0FBRyxDQUFDTSxJQUFKLENBQVNJLElBTEgsQ0FBSCxDQUFiLENBUUo7QUFDSSxHQUFJQyxDQUFBQSxNQUFNLDJCQUFHLEdBQUkzQixDQUFBQSxNQUFKLENBQVdvQixTQUFYLENBQUgsQ0FBVixDQVY0Qix5QkFXNUJPLE1BQU0sQ0FBQ0MsSUFBUCxHQUFjakMsSUFBZCxDQUFvQmtDLElBQUQsRUFBUyxrREFDeEJqQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxrQkFBWixFQUR3Qix5QkFFeEJvQixHQUFHLENBQUNhLE1BQUosQ0FBVyxHQUFYLEVBQWdCWixJQUFoQixDQUFxQlcsSUFBckIsRUFDQTtBQUNILENBSkQsRUFJRy9CLEtBSkgsQ0FJV0MsR0FBRCxFQUFTLGtEQUNmLEdBQUdBLEdBQUgsQ0FBTyxxREFDSCxLQUFNQSxDQUFBQSxHQUFOLENBQ0gsQ0FGRCxpQ0FHSCxDQVJELEVBU0E7QUFDSCxDQXJCRCxFQXNCQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRyx5QkFDQWhCLEdBQUcsQ0FBQ2dDLEdBQUosQ0FBUSxVQUFSLENBQW9CLENBQUNDLEdBQUQsQ0FBS0MsR0FBTCxHQUFZLGtEQUM1QmpCLE1BQU0sQ0FBQytCLElBQVAsR0FBY3BDLElBQWQsQ0FBb0JxQyxPQUFELEVBQVcsa0RBQzFCZixHQUFHLENBQUMvQixJQUFKLENBQVM4QyxPQUFULEVBQ0E7QUFDSCxDQUhELEVBSUgsQ0FMRCxFQU1BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRyx5QkFDQWpELEdBQUcsQ0FBQ2dDLEdBQUosQ0FBUSx5QkFBUixDQUFrQyxDQUFDQyxHQUFELENBQUtDLEdBQUwsR0FBYSxrREFDM0NqQixNQUFNLENBQUNpQyxPQUFQLENBQWUsQ0FBQ1osVUFBVSxDQUFFTCxHQUFHLENBQUNrQixNQUFKLENBQVdiLFVBQXhCLENBQWYsRUFBb0QxQixJQUFwRCxDQUEwRGdDLE1BQUQsRUFBVyxrREFDaEUsR0FBR0EsTUFBSCxDQUFVLHFEQUNOVixHQUFHLENBQUNDLElBQUosQ0FBU1MsTUFBVCxFQUNILENBRkQsSUFHSyxxREFDRFYsR0FBRyxDQUFDa0IsVUFBSixDQUFlLEdBQWYsRUFDSCxDQUNKLENBUEQsRUFPR3JDLEtBUEgsQ0FPU0MsR0FBRyxFQUFHLG1EQUNYLEdBQUdBLEdBQUgsQ0FBTyxxREFDSCxLQUFNQSxDQUFBQSxHQUFOLENBQ0gsQ0FGRCxpQ0FHSCxDQVhELEVBWUgsQ0FiRCxFQWVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRyx5QkFFQWhCLEdBQUcsQ0FBQ2dDLEdBQUosQ0FBUSxhQUFSLENBQXNCLENBQUNDLEdBQUQsQ0FBS0MsR0FBTCxHQUFhLG1EQUMvQmpCLE1BQU0sQ0FBQ29DLFFBQVAsQ0FBaUJwQixHQUFHLENBQUNrQixNQUFKLENBQVdHLEVBQTVCLEVBQWdDMUMsSUFBaEMsQ0FBc0NnQyxNQUFELEVBQVcsbURBQzVDLEdBQUdBLE1BQUgsQ0FBVSxxREFDTlYsR0FBRyxDQUFDL0IsSUFBSixDQUFTeUMsTUFBVCxFQUNILENBRkQsSUFHSyxxREFDRFYsR0FBRyxDQUFDa0IsVUFBSixDQUFlLEdBQWYsRUFDSCxDQUNKLENBUEQsRUFPR3JDLEtBUEgsQ0FPU0MsR0FBRyxFQUFHLG1EQUNYLEdBQUdBLEdBQUgsQ0FBTyxxREFDSCxLQUFNQSxDQUFBQSxHQUFOLENBQ0gsQ0FGRCxpQ0FHSCxDQVhELEVBWUgsQ0FiRCxFQWVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEcseUJBQ0FoQixHQUFHLENBQUNnQyxHQUFKLENBQVEsOEJBQVIsQ0FBdUMsQ0FBQ0MsR0FBRCxDQUFLQyxHQUFMLEdBQWEsMEJBQ2hELEdBQUlPLENBQUFBLE1BQU0sMkJBQUdSLEdBQUcsQ0FBQ2tCLE1BQUosQ0FBV1YsTUFBWCxDQUFrQmMsV0FBbEIsRUFBSCxDQUFWLENBQ0EsR0FBSWIsQ0FBQUEsV0FBVywyQkFBR1QsR0FBRyxDQUFDa0IsTUFBSixDQUFXVCxXQUFYLENBQXVCYSxXQUF2QixFQUFILENBQWYsQ0FGZ0QseUJBSWhEdEMsTUFBTSxDQUFDaUMsT0FBUCxDQUFlLENBQUNULE1BQU0sQ0FBRUEsTUFBVCxDQUFpQkMsV0FBVyxDQUFFQSxXQUE5QixDQUFmLEVBQTJEOUIsSUFBM0QsQ0FBaUVnQyxNQUFELEVBQVcsbURBRW5FVixHQUFHLENBQUMvQixJQUFKLENBQVN5QyxNQUFULEVBRm1FLHlCQUduRS9CLE9BQU8sQ0FBQ0MsR0FBUixDQUFZOEIsTUFBWixFQUVQLENBTEQsRUFLRzdCLEtBTEgsQ0FLU0MsR0FBRyxFQUFHLG1EQUNYLEdBQUdBLEdBQUgsQ0FBTyxxREFDSCxLQUFNQSxDQUFBQSxHQUFOLENBQ0gsQ0FGRCxpQ0FHSCxDQVRELEVBVUgsQ0FkRCxFQWdCQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEcseUJBQ0FoQixHQUFHLENBQUN3RCxNQUFKLENBQVcscUJBQVgsQ0FBa0MsQ0FBQ3ZCLEdBQUQsQ0FBTUMsR0FBTixHQUFjLG1EQUM1Q2pCLE1BQU0sQ0FBQ3dDLGdCQUFQLENBQXdCLENBQUNuQixVQUFVLENBQUVMLEdBQUcsQ0FBQ2tCLE1BQUosQ0FBV2IsVUFBeEIsQ0FBeEIsRUFBNkQxQixJQUE3RCxDQUFtRThDLFFBQUQsRUFBYyxtREFDNUV4QixHQUFHLENBQUNDLElBQUosQ0FBU3VCLFFBQVQsRUFENEUseUJBRTVFN0MsT0FBTyxDQUFDQyxHQUFSLENBQWEsaUJBQWIsRUFDRjtBQUNBO0FBQ0QsQ0FMRCxFQUtHQyxLQUxILENBS1NDLEdBQUcsRUFBSSxtREFDZCxHQUFHQSxHQUFILENBQU8scURBQ0wsS0FBTUEsQ0FBQUEsR0FBTixDQUNELENBRkQsaUNBR0QsQ0FURCxFQVVELENBWEgsRUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHLHlCQUVBaEIsR0FBRyxDQUFDMkQsR0FBSixDQUFRLGFBQVIsQ0FBdUIsQ0FBQzFCLEdBQUQsQ0FBTUMsR0FBTixHQUFjLDBCQUNqQyxHQUFJRyxDQUFBQSxTQUFTLDJCQUFHLENBQ2RHLE9BQU8sQ0FBRVAsR0FBRyxDQUFDTSxJQUFKLENBQVNDLE9BREosQ0FFZEYsVUFBVSxDQUFFTCxHQUFHLENBQUNNLElBQUosQ0FBU0QsVUFGUCxDQUdkRyxNQUFNLENBQUVSLEdBQUcsQ0FBQ00sSUFBSixDQUFTRSxNQUhILENBSWRDLFdBQVcsQ0FBRVQsR0FBRyxDQUFDTSxJQUFKLENBQVNHLFdBSlIsQ0FLZEMsSUFBSSxDQUFFVixHQUFHLENBQUNNLElBQUosQ0FBU0ksSUFMRCxDQUFILENBQWIsQ0FEaUMseUJBUWpDMUIsTUFBTSxDQUFDMkMsaUJBQVAsQ0FBeUIzQixHQUFHLENBQUNrQixNQUFKLENBQVdHLEVBQXBDLENBQ0UsQ0FBQyxPQUFRakIsU0FBVCxDQURGLENBQ3VCLENBQUN3QixHQUFHLENBQUUsSUFBTixDQUR2QixFQUNvQ2pELElBRHBDLENBQzBDOEMsUUFBRCxFQUFjLG1EQUNyRDdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLGdCQUFiLEVBRHFELHlCQUd6RG9CLEdBQUcsQ0FBQ0MsSUFBSixDQUFTdUIsUUFBUSxDQUFDWixJQUFsQixFQUNHLENBTEQsRUFLRy9CLEtBTEgsQ0FLU0MsR0FBRyxFQUFJLG1EQUNkLEdBQUdBLEdBQUgsQ0FBTyxxREFDTCxLQUFNQSxDQUFBQSxHQUFOLENBQ0QsQ0FGRCxpQ0FHRCxDQVRELEVBVUQsQ0FsQkgsRUFvQkE7QUFDQTt5QkFDQWhCLEdBQUcsQ0FBQzhELE1BQUosQ0FBVyxJQUFYLENBQWlCLElBQU0sbURBQ25CakQsT0FBTyxDQUFDQyxHQUFSLENBQVksa0RBQVosRUFDSCxDQUZELEUseUJBSUFpRCxNQUFNLENBQUNDLE9BQVAsQ0FBZWhFLEdBQWYsQ0FpQkE7QUFDSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXNDb250ZW50IjpbIi8vbG9hZCBleHByZXNzXHJcbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5jb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZShcImJvZHktcGFyc2VyXCIpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcclxuXHJcbi8vbG9hZCBzd2FnZ2VyXHJcbmNvbnN0IHN3YWdnZXJKc0RvYyA9IHJlcXVpcmUoXCJzd2FnZ2VyLWpzZG9jXCIpO1xyXG5jb25zdCBzd2FnZ2VyVWkgPSByZXF1aXJlKFwic3dhZ2dlci11aS1leHByZXNzXCIpO1xyXG5cclxuLy9sb2FkIGNvcnNcclxuY29uc3QgY29ycyA9IHJlcXVpcmUoJ2NvcnMnKVxyXG5hcHAudXNlKGNvcnMoeyBvcmlnaW46ICdodHRwOi8vbG9jYWxob3N0OjQyMDAnfSkpXHJcbi8vbG9hZCBtb25nb29zZVxyXG5jb25zdCBtb25nb29zZSA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTtcclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy9jb25uZWN0IHRvIGRhdGFiYXNlXHJcbm1vbmdvb3NlLmNvbm5lY3QoXCJtb25nb2RiK3NydjovL3N1cmJoaToxMjM0NUBmbGlnaHQucGF4azIubW9uZ29kYi5uZXQvZmxpZ2h0RGF0YVwiLHt1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTp0cnVlfSlcclxuLnRoZW4oKCk9PiBjb25zb2xlLmxvZyhcIkNvbm5lY3RlZCB0byBkYXRhYmFzZVwiKSlcclxuLmNhdGNoKChlcnIpPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbi8vbG9hZCBpdHMgbW9kZWxcclxucmVxdWlyZShcIi4vRmxpZ2h0XCIpO1xyXG5jb25zdCBGbGlnaHQgPSBtb25nb29zZS5tb2RlbChcIkZsaWdodFwiKVxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vICAgICAgICAgU1dBR0dFUiBET0NVTUVOVEFUSU9OXHJcblxyXG4vLyBFeHRlbmRlZDogaHR0cHM6Ly9zd2FnZ2VyLmlvL3NwZWNpZmljYXRpb24vI2luZm9PYmplY3RcclxuY29uc3Qgc3dhZ2dlck9wdGlvbnMgPSB7XHJcbiAgICBzd2FnZ2VyRGVmaW5pdGlvbjoge1xyXG4gICAgICBpbmZvOiB7XHJcbiAgICAgICAgdmVyc2lvbjogXCIxLjAuMFwiLFxyXG4gICAgICAgIHRpdGxlOiBcIkZsaWdodCBBUElcIixcclxuICAgICAgICBkZXNjcmlwdGlvbjogXCJGbGlnaHQgQVBJIEluZm9ybWF0aW9uXCIsXHJcbiAgICAgICAgY29udGFjdDoge1xyXG4gICAgICAgICAgbmFtZTogXCJTdXJiaGlcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2VydmVyczogW1wiaHR0cDovL2xvY2FsaG9zdDo0NTQ1XCJdXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvLyBbJy5yb3V0ZXMvKi5qcyddXHJcbiAgICBhcGlzOiBbXCJmbGlnaHRzLmpzXCJdXHJcbiAgfTtcclxuICBcclxuICBjb25zdCBzd2FnZ2VyRG9jcyA9IHN3YWdnZXJKc0RvYyhzd2FnZ2VyT3B0aW9ucyk7XHJcbiAgYXBwLnVzZShcIi9hcGktZmxpZ2h0XCIsIHN3YWdnZXJVaS5zZXJ2ZSwgc3dhZ2dlclVpLnNldHVwKHN3YWdnZXJEb2NzKSk7XHJcblxyXG4gIGFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xyXG4vKipcclxuICogQHN3YWdnZXJcclxuICogZGVmaW5pdGlvbnM6XHJcbiAqICBGbGlnaHQ6XHJcbiAqICAgdHlwZTogb2JqZWN0XHJcbiAqICAgcHJvcGVydGllczpcclxuICogICAgZmxpZ2h0Q29kZTpcclxuICogICAgICB0eXBlOiBzdHJpbmdcclxuICogICAgICBkZXNjcmlwdGlvbjogY29kZSBvZiB0aGUgZmxpZ2h0XHJcbiAqICAgICAgZXhhbXBsZTogJ1NDMTAxJ1xyXG4gKiAgICBhaXJsaW5lOlxyXG4gKiAgICAgIHR5cGU6IHN0cmluZ1xyXG4gKiAgICAgIGRlc2NyaXB0aW9uOiBuYW1lIG9mIHRoZSBhaXJsaW5lXHJcbiAqICAgICAgZXhhbXBsZTogJ1NwaWNlSmV0J1xyXG4gKiAgICBzb3VyY2U6XHJcbiAqICAgICAgdHlwZTogc3RyaW5nXHJcbiAqICAgICAgZGVzY3JpcHRpb246IHNvdXJjZVxyXG4gKiAgICAgIGV4YW1wbGU6ICdtdW1iYWknXHJcbiAqICAgIGRlc3RpbmF0aW9uOlxyXG4gKiAgICAgIHR5cGU6IHN0cmluZ1xyXG4gKiAgICAgIGRlc2NyaXB0aW9uOiBEZXN0aW5hdGlvblxyXG4gKiAgICAgIGV4YW1wbGU6ICdkZWxoaSdcclxuICogICAgZmFyZTpcclxuICogICAgICB0eXBlOiBudW1iZXJcclxuICogICAgICBkZXNjcmlwdGlvbjogZmFyZSBvZiB0aGUgZmxpZ2h0XHJcbiAqICAgICAgZXhhbXBsZTogMjAwMFxyXG4gKiAgICBcclxuICovXHJcblxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy9yZW5kZXIgaG9tZSBwYWdlXHJcbmFwcC5nZXQoJy8nLCAocmVxLHJlcyk9PntcclxuICAgIHJlcy5zZW5kKFwiVGhpcyBpcyBzZWFyY2ggc2VydmljZVwiKTtcclxufSlcclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vIDFdIGNyZWF0ZSBmdW5jdGlvbmFsaXR5XHJcbi8qKlxyXG4gKiBAc3dhZ2dlclxyXG4gKiAvZmxpZ2h0OlxyXG4gKiAgIHBvc3Q6XHJcbiAqICAgICB0YWdzOlxyXG4gKiAgICAgICAtIEZsaWdodHNcclxuICogICAgIGRlc2NyaXB0aW9uOiBDcmVhdGVzIGEgbmV3IGZsaWdodFxyXG4gKiAgICAgcHJvZHVjZXM6XHJcbiAqICAgICAgIC0gYXBwbGljYXRpb24vanNvblxyXG4gKiAgICAgcGFyYW1ldGVyczpcclxuICogICAgICAgLSBuYW1lOiBmbGlnaHRcclxuICogICAgICAgICBkZXNjcmlwdGlvbjogRmxpZ2h0IG9iamVjdFxyXG4gKiAgICAgICAgIGluOiBib2R5XHJcbiAqICAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICogICAgICAgICBzY2hlbWE6XHJcbiAqICAgICAgICAgICAkcmVmOiAnIy9kZWZpbml0aW9ucy9GbGlnaHQnXHJcbiAqICAgICByZXNwb25zZXM6XHJcbiAqICAgICAgIDIwMDpcclxuICogICAgICAgICBkZXNjcmlwdGlvbjogU3VjY2Vzc2Z1bGx5IGNyZWF0ZWRcclxuICovXHJcblxyXG5hcHAucG9zdChcIi9mbGlnaHRcIiwgKHJlcSxyZXMpPT4ge1xyXG4gICAgdmFyIG5ld0ZsaWdodCA9IHtcclxuICAgICAgICBmbGlnaHRDb2RlOiByZXEuYm9keS5mbGlnaHRDb2RlLFxyXG4gICAgICAgIGFpcmxpbmU6IHJlcS5ib2R5LmFpcmxpbmUsXHJcbiAgICAgICAgc291cmNlOiByZXEuYm9keS5zb3VyY2UsXHJcbiAgICAgICAgZGVzdGluYXRpb246IHJlcS5ib2R5LmRlc3RpbmF0aW9uLFxyXG4gICAgICAgIGZhcmU6IHJlcS5ib2R5LmZhcmVcclxuICAgIH1cclxuXHJcbi8vY3JlYXRlIG5ldyBmbGlnaHRcclxuICAgIHZhciBmbGlnaHQgPSBuZXcgRmxpZ2h0KG5ld0ZsaWdodClcclxuICAgIGZsaWdodC5zYXZlKCkudGhlbigoZGF0YSk9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJOZXcgRmxpZ2h0IGFkZGVkXCIpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGRhdGEpXHJcbiAgICAgICAgLy9yZXMuanNvbihkYXRhKSAgICAgICAgXHJcbiAgICB9KS5jYXRjaCAoKGVycikgPT4ge1xyXG4gICAgICAgIGlmKGVycil7XHJcbiAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy9yZXMuc2VuZChcIk5ldyBmbGlnaHQgYWRkZWQgc3VjY2Vzc2Z1bGx5XCIpXHJcbn0pIFxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLy8gMl0gUkVUUklFVkUgQUxMIEZMSUdIVFNcclxuLyoqXHJcbiAqIEBzd2FnZ2VyXHJcbiAqIC9mbGlnaHRzOlxyXG4gKiAgZ2V0OlxyXG4gKiAgICB0YWdzOlxyXG4gKiAgICAgICAtIEZsaWdodHNcclxuICogICAgZGVzY3JpcHRpb246IFVzZWQgdG8gZ2V0IGFsbCBmbGlnaHRzIGluIGRhdGFiYXNlXHJcbiAqICAgIHJlc3BvbnNlczpcclxuICogICAgICAnMjAwJzpcclxuICogICAgICAgIGRlc2NyaXB0aW9uOiBTdWNjZXNzZnVsbHkgZmV0Y2hlZCBmbGlnaHRcclxuICogICAgICAnNTAwJzpcclxuICogICAgICAgIGRlc2NyaXB0aW9uOiBTZXJ2ZXIgZXJyb3JcclxuICovXHJcbmFwcC5nZXQoXCIvZmxpZ2h0c1wiLCAocmVxLHJlcyk9PiB7XHJcbiAgICBGbGlnaHQuZmluZCgpLnRoZW4oKGZsaWdodHMpPT57XHJcbiAgICAgICAgcmVzLmpzb24oZmxpZ2h0cylcclxuICAgICAgICAvL2NvbnNvbGUubG9nKGZsaWdodHMpO1xyXG4gICAgfSlcclxufSlcclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vIDNdIHJldHJpZXZlIGZsaWdodCBieSB0aGUgY29kZVxyXG4vKipcclxuICogQHN3YWdnZXJcclxuICogL2ZsaWdodENvZGUve2ZsaWdodENvZGV9OlxyXG4gKiAgZ2V0OlxyXG4gKiAgICB0YWdzOlxyXG4gKiAgICAgICAtIEZsaWdodHNcclxuICogICAgc3VtbWFyeTogRmV0Y2ggYSBmbGlnaHQuXHJcbiAqICAgIGRlc2NyaXB0aW9uOiBVc2VkIHRvIGZldGNoIGEgc2luZ2xlIGZsaWdodFxyXG4gKiAgICByZXNwb25zZXM6XHJcbiAqICAgICAgJzIwMCc6XHJcbiAqICAgICAgICBkZXNjcmlwdGlvbjogU3VjY2Vzc2Z1bGx5IGZldGNoZWQgZmxpZ2h0XHJcbiAqICAgICAgJzUwMCc6XHJcbiAqICAgICAgICBkZXNjcmlwdGlvbjogU2VydmVyIGVycm9yXHJcbiAqICBwYXJhbWV0ZXJzOlxyXG4gKiAgICAgICAtIGluOiBwYXRoXHJcbiAqICAgICAgICAgbmFtZTogZmxpZ2h0Q29kZVxyXG4gKiAgICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAqICAgICAgICAgc2NoZW1hOlxyXG4gKiAgICAgICAgICAgdHlwZTogU3RyaW5nXHJcbiAqICAgICAgICAgZGVzY3JpcHRpb246IFRoZSBmbGlnaHQgY29kZVxyXG4gKi9cclxuYXBwLmdldChcIi9mbGlnaHRDb2RlLzpmbGlnaHRDb2RlXCIsKHJlcSxyZXMpID0+IHtcclxuICAgIEZsaWdodC5maW5kT25lKHtmbGlnaHRDb2RlOiByZXEucGFyYW1zLmZsaWdodENvZGV9KS50aGVuKChmbGlnaHQpPT4ge1xyXG4gICAgICAgIGlmKGZsaWdodCl7XHJcbiAgICAgICAgICAgIHJlcy5zZW5kKGZsaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXMuc2VuZFN0YXR1cyg0MDQpO1xyXG4gICAgICAgIH1cclxuICAgIH0pLmNhdGNoKGVyciA9PntcclxuICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufSApXHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLy8gNF0gUmV0cmlldmUgZmxpZ2h0IGJ5IHRoZWlyIGlkIFxyXG4vKipcclxuICogQHN3YWdnZXJcclxuICogL2ZsaWdodC97aWR9OlxyXG4gKiAgZ2V0OlxyXG4gKiAgICB0YWdzOlxyXG4gKiAgICAgICAtIEZsaWdodHNcclxuICogICAgc3VtbWFyeTogRmV0Y2ggYSBmbGlnaHQuXHJcbiAqICAgIGRlc2NyaXB0aW9uOiBVc2VkIHRvIGZldGNoIGEgc2luZ2xlIGZsaWdodFxyXG4gKiAgICByZXNwb25zZXM6XHJcbiAqICAgICAgJzIwMCc6XHJcbiAqICAgICAgICBkZXNjcmlwdGlvbjogU3VjY2Vzc2Z1bGx5IGZldGNoZWQgZmxpZ2h0XHJcbiAqICAgICAgJzUwMCc6XHJcbiAqICAgICAgICBkZXNjcmlwdGlvbjogU2VydmVyIGVycm9yXHJcbiAqICBwYXJhbWV0ZXJzOlxyXG4gKiAgICAgICAtIGluOiBwYXRoXHJcbiAqICAgICAgICAgbmFtZTogaWRcclxuICogICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gKiAgICAgICAgIHNjaGVtYTpcclxuICogICAgICAgICAgIHR5cGU6IGludGVnZXJcclxuICogICAgICAgICBkZXNjcmlwdGlvbjogVGhlIGZsaWdodCBJRFxyXG4gKi9cclxuXHJcbmFwcC5nZXQoXCIvZmxpZ2h0LzppZFwiLChyZXEscmVzKSA9PiB7XHJcbiAgICBGbGlnaHQuZmluZEJ5SWQoIHJlcS5wYXJhbXMuaWQpLnRoZW4oKGZsaWdodCk9PiB7XHJcbiAgICAgICAgaWYoZmxpZ2h0KXtcclxuICAgICAgICAgICAgcmVzLmpzb24oZmxpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJlcy5zZW5kU3RhdHVzKDQwNCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSkuY2F0Y2goZXJyID0+e1xyXG4gICAgICAgIGlmKGVycil7XHJcbiAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59IClcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4vLyA1XSBSZXRyaWV2ZSBmbGlnaHQgYnkgc291cmNlIGFuZCBkZXN0aW5hdGlvblxyXG4vKipcclxuICogQHN3YWdnZXJcclxuICogL2ZsaWdodC97c291cmNlfS97ZGVzdGluYXRpb259OlxyXG4gKiAgZ2V0OlxyXG4gKiAgICB0YWdzOlxyXG4gKiAgICAgICAtIEZsaWdodHNcclxuICogICAgc3VtbWFyeTogU2VhcmNoIGZsaWdodHNcclxuICogICAgZGVzY3JpcHRpb246IFVzZWQgdG8gc2VhcmNoIGZsaWdodHNcclxuICogICAgcmVzcG9uc2VzOlxyXG4gKiAgICAgICcyMDAnOlxyXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFN1Y2Nlc3NmdWxseSBzZWFyY2hlZCBmbGlnaHRzXHJcbiAqICAgICAgJzUwMCc6XHJcbiAqICAgICAgICBkZXNjcmlwdGlvbjogU2VydmVyIGVycm9yXHJcbiAqICBwYXJhbWV0ZXJzOlxyXG4gKiAgICAgICAtIGluOiBwYXRoXHJcbiAqICAgICAgICAgbmFtZTogc291cmNlXHJcbiAqICAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICogICAgICAgICBzY2hlbWE6XHJcbiAqICAgICAgICAgICB0eXBlOiBTdHJpbmdcclxuICogICAgICAgICBkZXNjcmlwdGlvbjogU291cmNlXHJcbiAqIFxyXG4gKiAgICAgICAtIGluOiBwYXRoXHJcbiAqICAgICAgICAgbmFtZTogZGVzdGluYXRpb25cclxuICogICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gKiAgICAgICAgIHNjaGVtYTpcclxuICogICAgICAgICAgIHR5cGU6IFN0cmluZ1xyXG4gKiAgICAgICAgIGRlc2NyaXB0aW9uOiBEZXN0aW5hdGlvblxyXG4gKiAgICAgICBcclxuICovXHJcbmFwcC5nZXQoXCIvZmxpZ2h0Lzpzb3VyY2UvOmRlc3RpbmF0aW9uXCIsKHJlcSxyZXMpID0+IHtcclxuICAgIGxldCBzb3VyY2UgPSByZXEucGFyYW1zLnNvdXJjZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgbGV0IGRlc3RpbmF0aW9uID0gcmVxLnBhcmFtcy5kZXN0aW5hdGlvbi50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgIEZsaWdodC5maW5kT25lKHtzb3VyY2U6IHNvdXJjZSwgZGVzdGluYXRpb246IGRlc3RpbmF0aW9ufSkudGhlbigoZmxpZ2h0KT0+IHtcclxuICAgICAgICBcclxuICAgICAgICAgICAgcmVzLmpzb24oZmxpZ2h0KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZmxpZ2h0KTtcclxuICAgICAgICBcclxuICAgIH0pLmNhdGNoKGVyciA9PntcclxuICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufSApXHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLy8gNl0gcmVtb3ZpbmcgZmxpZ2h0c1xyXG4vKipcclxuICogQHN3YWdnZXJcclxuICogL2ZsaWdodC97ZmxpZ2h0Q29kZX06XHJcbiAqICBkZWxldGU6XHJcbiAqICAgIHRhZ3M6XHJcbiAqICAgICAgIC0gRmxpZ2h0c1xyXG4gKiAgICBzdW1tYXJ5OiBEZWxldGUgYSBmbGlnaHQuXHJcbiAqICAgIGRlc2NyaXB0aW9uOiBVc2VkIHRvIGRlbGV0ZSBhIGZsaWdodFxyXG4gKiAgICByZXNwb25zZXM6XHJcbiAqICAgICAgJzIwMCc6XHJcbiAqICAgICAgICBkZXNjcmlwdGlvbjogU3VjY2Vzc2Z1bGx5IGRlbGV0ZWQgZmxpZ2h0XHJcbiAqICAgICAgJzUwMCc6XHJcbiAqICAgICAgICBkZXNjcmlwdGlvbjogU2VydmVyIGVycm9yXHJcbiAqICBwYXJhbWV0ZXJzOlxyXG4gKiAgICAgICAtIGluOiBwYXRoXHJcbiAqICAgICAgICAgbmFtZTogZmxpZ2h0Q29kZVxyXG4gKiAgICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAqICAgICAgICAgc2NoZW1hOlxyXG4gKiAgICAgICAgICAgdHlwZTogU3RyaW5nXHJcbiAqICAgICAgICAgZGVzY3JpcHRpb246IFRoZSBmbGlnaHQgSURcclxuICovXHJcbmFwcC5kZWxldGUoJy9mbGlnaHQvOmZsaWdodENvZGUnLCAocmVxLCByZXMpID0+IHtcclxuICAgIEZsaWdodC5maW5kT25lQW5kUmVtb3ZlKHtmbGlnaHRDb2RlOiByZXEucGFyYW1zLmZsaWdodENvZGV9KS50aGVuKChyZXNwb25zZSkgPT4geyAgICAgICAgXHJcbiAgICAgICAgcmVzLnNlbmQocmVzcG9uc2UpXHJcbiAgICAgICAgY29uc29sZS5sb2coYCBmbGlnaHQgZGVsZXRlZGAgKTtcclxuICAgICAgLy9yZXMuc2VuZChcIkZsaWdodCByZW1vdmVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuICAgICAgLy9jb25zb2xlLmxvZyhmbGlnaHQpO1xyXG4gICAgfSkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgaWYoZXJyKXtcclxuICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfSk7XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyA3XSAgVVBEQVRJTkcgRkxJR0hUXHJcbi8qKlxyXG4gKiBAc3dhZ2dlclxyXG4gKiAvZmxpZ2h0L3tpZH06XHJcbiAqICAgcHV0OlxyXG4gKiAgICAgdGFnczpcclxuICogICAgICAgLSBGbGlnaHRzXHJcbiAqICAgICBkZXNjcmlwdGlvbjogQ3JlYXRlcyBhIG5ldyBmbGlnaHRcclxuICogICAgIHByb2R1Y2VzOlxyXG4gKiAgICAgICAtIGFwcGxpY2F0aW9uL2pzb25cclxuICogICAgIHBhcmFtZXRlcnM6XHJcbiAqICAgICAgIC0gbmFtZTogaWRcclxuICogICAgICAgICBkZXNjcmlwdGlvbjogZmxpZ2h0IG9iamVjdCBpZFxyXG4gKiAgICAgICAgIGluOiBwYXRoXHJcbiAqICAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICogICAgICAgICBzY2hlbWE6XHJcbiAqICAgICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gKiAgICAgICAgICBkZXNjcmlwdGlvbjogdXNlcidzIG9iamVjdCBpZFxyXG4gKiAgICAgICAtIG5hbWU6IGZsaWdodFxyXG4gKiAgICAgICAgIGRlc2NyaXB0aW9uOiBGbGlnaHQgb2JqZWN0XHJcbiAqICAgICAgICAgaW46IGJvZHlcclxuICogICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gKiAgICAgICAgIHNjaGVtYTpcclxuICogICAgICAgICAgICRyZWY6ICcjL2RlZmluaXRpb25zL0ZsaWdodCdcclxuICogICAgIHJlc3BvbnNlczpcclxuICogICAgICAgMjAwOlxyXG4gKiAgICAgICAgIGRlc2NyaXB0aW9uOiBGbGlnaHQgU3VjY2Vzc2Z1bGx5IHVwZGF0ZWRcclxuICogICAgICAgNDAwOlxyXG4gKiAgICAgICAgIGRlc2NyaXB0aW9uOiBTZXJ2ZXIgRXJyb3JcclxuICovXHJcblxyXG5hcHAucHV0KCcvZmxpZ2h0LzppZCcsIChyZXEsIHJlcykgPT4ge1xyXG4gICAgdmFyIG5ld0ZsaWdodCA9IHtcclxuICAgICAgYWlybGluZTogcmVxLmJvZHkuYWlybGluZSxcclxuICAgICAgZmxpZ2h0Q29kZTogcmVxLmJvZHkuZmxpZ2h0Q29kZSxcclxuICAgICAgc291cmNlOiByZXEuYm9keS5zb3VyY2UsXHJcbiAgICAgIGRlc3RpbmF0aW9uOiByZXEuYm9keS5kZXN0aW5hdGlvbixcclxuICAgICAgZmFyZTogcmVxLmJvZHkuZmFyZVxyXG4gICAgfVxyXG4gICAgRmxpZ2h0LmZpbmRCeUlkQW5kVXBkYXRlKHJlcS5wYXJhbXMuaWQsIFxyXG4gICAgICB7XCIkc2V0XCI6IG5ld0ZsaWdodH0sIHtuZXc6IHRydWV9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhgZmxpZ2h0IHVwZGF0ZWRgKTtcclxuICAgIFxyXG4gIHJlcy5zZW5kKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgfSkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgaWYoZXJyKXtcclxuICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfSk7XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vL2xpc3RlbiB0byB0aGUgcG9ydFxyXG5hcHAubGlzdGVuKDQ1NDUsICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwiVXAgYW5kIHJ1bm5pbmcgdGhpcyBpcyBvdXIgZmxpZ2h0IHNlYXJjaCBzZXJ2aWNlXCIpO1xyXG59KVxyXG5cclxubW9kdWxlLmV4cG9ydHM9YXBwO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy8gYXBwLmRlbGV0ZSgnL2ZsaWdodC86aWQnLCAocmVxLCByZXMpID0+IHtcclxuICAgIC8vICAgICBGbGlnaHQuZGVsZXRlT25lKHtpZDpyZXEucGFyYW1zLmlkfSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgIC8vICAgICAgIHJlcy5zZW5kKFwiRmxpZ2h0IHJlbW92ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgLy8gICAgICAgLy9jb25zb2xlLmxvZyhmbGlnaHQpO1xyXG4gICAgLy8gICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAvLyAgICAgICBpZihlcnIpe1xyXG4gICAgLy8gICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAvLyAgICAgICB9XHJcbiAgICAvLyAgICAgfSlcclxuICAgIC8vICAgfSk7XHJcbiAgICBcclxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBcclxuICAgIC8vIDddIFVwZGF0aW5nIGZsaWdodHNcclxuICAgIC8vIGFwcC5wdXQoJy9mbGlnaHQvOmZsaWdodENvZGUnLCAocmVxLHJlcykgPT4ge1xyXG4gICAgLy8gICAgIEZsaWdodC51cGRhdGVPbmUoe2ZsaWdodENvZGU6IHJlcS5wYXJhbXMuZmxpZ2h0Q29kZX0sIHJlcS5ib2R5KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgLy8gICAgIEZsaWdodC5maW5kT25lKHtmbGlnaHRDb2RlOiByZXEucGFyYW1zLmZsaWdodENvZGV9KS50aGVuKGZ1bmN0aW9uKGZsaWdodCl7XHJcbiAgICAvLyAgICAgICAgIHJlcy5zZW5kKGZsaWdodCk7IFxyXG4gICAgLy8gICAgIH0pXHJcbiAgICAvLyAgICAgICAgIC8vcmVzLnNlbmQoXCJGbGlnaHQgdXBkYXRlZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgICAgICBcclxuICAgIC8vIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAvLyAgICAgaWYoZXJyKXtcclxuICAgIC8vICAgICAgIHRocm93IGVycjtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgIH0pXHJcbiAgICAvLyB9KTtcclxuICAgIFxyXG4gICAgLy8gYXBwLnB1dCgnL2ZsaWdodC86aWQnLCAocmVxLHJlcykgPT4ge1xyXG4gICAgLy8gICAgIEZsaWdodC5maW5kQnlJZEFuZFVwZGF0ZSggcmVxLnBhcmFtcy5pZCkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgIC8vICAgICAgICAgIHJlcy5zZW5kKHJlc3BvbnNlLmRhdGEpXHJcbiAgICAvLyAgICAgICAgICBjb25zb2xlLmxvZyhcIkZsaWdodCB1cGRhdGVkIHN1Y2Vzc2Z1bGx5XCIpO1xyXG4gICAgLy8gICAgICAgICAvL3Jlcy5zZW5kKFwiRmxpZ2h0IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgICAgXHJcbiAgICAvLyB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgLy8gICAgIGlmKGVycil7XHJcbiAgICAvLyAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICB9KVxyXG4gICAgLy8gfSk7Il19