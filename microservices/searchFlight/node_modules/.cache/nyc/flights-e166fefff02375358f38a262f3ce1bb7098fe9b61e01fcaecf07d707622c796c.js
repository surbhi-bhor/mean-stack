function cov_2pq9vl3l2k(){var path="C:\\Users\\Surbhi bhor\\Desktop\\Case study\\microservices\\searchFlight\\flights.js";var hash="13d3aae261e1f32af2d12b7b23d7975549af7601";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Surbhi bhor\\Desktop\\Case study\\microservices\\searchFlight\\flights.js",statementMap:{"0":{start:{line:2,column:16},end:{line:2,column:34}},"1":{start:{line:3,column:12},end:{line:3,column:21}},"2":{start:{line:4,column:19},end:{line:4,column:41}},"3":{start:{line:5,column:0},end:{line:5,column:27}},"4":{start:{line:8,column:21},end:{line:8,column:45}},"5":{start:{line:9,column:18},end:{line:9,column:47}},"6":{start:{line:12,column:13},end:{line:12,column:28}},"7":{start:{line:13,column:0},end:{line:13,column:49}},"8":{start:{line:15,column:17},end:{line:15,column:36}},"9":{start:{line:18,column:0},end:{line:20,column:33}},"10":{start:{line:19,column:11},end:{line:19,column:47}},"11":{start:{line:20,column:15},end:{line:20,column:31}},"12":{start:{line:22,column:0},end:{line:22,column:20}},"13":{start:{line:23,column:15},end:{line:23,column:39}},"14":{start:{line:30,column:23},end:{line:44,column:3}},"15":{start:{line:46,column:22},end:{line:46,column:50}},"16":{start:{line:47,column:2},end:{line:47,column:72}},"17":{start:{line:49,column:2},end:{line:49,column:26}},"18":{start:{line:105,column:0},end:{line:126,column:2}},"19":{start:{line:106,column:20},end:{line:112,column:5}},"20":{start:{line:115,column:17},end:{line:115,column:38}},"21":{start:{line:116,column:4},end:{line:124,column:6}},"22":{start:{line:117,column:8},end:{line:117,column:40}},"23":{start:{line:118,column:8},end:{line:118,column:34}},"24":{start:{line:121,column:8},end:{line:123,column:9}},"25":{start:{line:122,column:12},end:{line:122,column:22}},"26":{start:{line:143,column:0},end:{line:148,column:2}},"27":{start:{line:144,column:4},end:{line:147,column:6}},"28":{start:{line:145,column:8},end:{line:145,column:25}},"29":{start:{line:173,column:0},end:{line:186,column:3}},"30":{start:{line:174,column:4},end:{line:185,column:6}},"31":{start:{line:175,column:8},end:{line:180,column:9}},"32":{start:{line:176,column:12},end:{line:176,column:29}},"33":{start:{line:179,column:12},end:{line:179,column:32}},"34":{start:{line:182,column:8},end:{line:184,column:9}},"35":{start:{line:183,column:12},end:{line:183,column:22}},"36":{start:{line:213,column:0},end:{line:226,column:3}},"37":{start:{line:214,column:4},end:{line:225,column:6}},"38":{start:{line:215,column:8},end:{line:220,column:9}},"39":{start:{line:216,column:12},end:{line:216,column:29}},"40":{start:{line:219,column:12},end:{line:219,column:32}},"41":{start:{line:222,column:8},end:{line:224,column:9}},"42":{start:{line:223,column:12},end:{line:223,column:22}},"43":{start:{line:260,column:0},end:{line:274,column:3}},"44":{start:{line:261,column:17},end:{line:261,column:48}},"45":{start:{line:262,column:22},end:{line:262,column:58}},"46":{start:{line:264,column:4},end:{line:273,column:6}},"47":{start:{line:266,column:12},end:{line:266,column:29}},"48":{start:{line:267,column:12},end:{line:267,column:32}},"49":{start:{line:270,column:8},end:{line:272,column:9}},"50":{start:{line:271,column:12},end:{line:271,column:22}},"51":{start:{line:300,column:0},end:{line:311,column:5}},"52":{start:{line:301,column:4},end:{line:310,column:6}},"53":{start:{line:302,column:8},end:{line:302,column:26}},"54":{start:{line:303,column:8},end:{line:303,column:40}},"55":{start:{line:307,column:6},end:{line:309,column:7}},"56":{start:{line:308,column:8},end:{line:308,column:18}},"57":{start:{line:345,column:0},end:{line:363,column:5}},"58":{start:{line:346,column:20},end:{line:352,column:5}},"59":{start:{line:353,column:4},end:{line:362,column:6}},"60":{start:{line:355,column:6},end:{line:355,column:36}},"61":{start:{line:357,column:2},end:{line:357,column:26}},"62":{start:{line:359,column:6},end:{line:361,column:7}},"63":{start:{line:360,column:8},end:{line:360,column:18}},"64":{start:{line:367,column:0},end:{line:369,column:2}},"65":{start:{line:368,column:4},end:{line:368,column:68}},"66":{start:{line:371,column:0},end:{line:371,column:19}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:19,column:6},end:{line:19,column:7}},loc:{start:{line:19,column:11},end:{line:19,column:47}},line:19},"1":{name:"(anonymous_1)",decl:{start:{line:20,column:7},end:{line:20,column:8}},loc:{start:{line:20,column:15},end:{line:20,column:31}},line:20},"2":{name:"(anonymous_2)",decl:{start:{line:105,column:20},end:{line:105,column:21}},loc:{start:{line:105,column:32},end:{line:126,column:1}},line:105},"3":{name:"(anonymous_3)",decl:{start:{line:116,column:23},end:{line:116,column:24}},loc:{start:{line:116,column:32},end:{line:120,column:5}},line:116},"4":{name:"(anonymous_4)",decl:{start:{line:120,column:14},end:{line:120,column:15}},loc:{start:{line:120,column:23},end:{line:124,column:5}},line:120},"5":{name:"(anonymous_5)",decl:{start:{line:143,column:20},end:{line:143,column:21}},loc:{start:{line:143,column:32},end:{line:148,column:1}},line:143},"6":{name:"(anonymous_6)",decl:{start:{line:144,column:23},end:{line:144,column:24}},loc:{start:{line:144,column:34},end:{line:147,column:5}},line:144},"7":{name:"(anonymous_7)",decl:{start:{line:173,column:34},end:{line:173,column:35}},loc:{start:{line:173,column:47},end:{line:186,column:1}},line:173},"8":{name:"(anonymous_8)",decl:{start:{line:174,column:61},end:{line:174,column:62}},loc:{start:{line:174,column:72},end:{line:181,column:5}},line:174},"9":{name:"(anonymous_9)",decl:{start:{line:181,column:13},end:{line:181,column:14}},loc:{start:{line:181,column:19},end:{line:185,column:5}},line:181},"10":{name:"(anonymous_10)",decl:{start:{line:213,column:22},end:{line:213,column:23}},loc:{start:{line:213,column:35},end:{line:226,column:1}},line:213},"11":{name:"(anonymous_11)",decl:{start:{line:214,column:41},end:{line:214,column:42}},loc:{start:{line:214,column:52},end:{line:221,column:5}},line:214},"12":{name:"(anonymous_12)",decl:{start:{line:221,column:13},end:{line:221,column:14}},loc:{start:{line:221,column:19},end:{line:225,column:5}},line:221},"13":{name:"(anonymous_13)",decl:{start:{line:260,column:39},end:{line:260,column:40}},loc:{start:{line:260,column:52},end:{line:274,column:1}},line:260},"14":{name:"(anonymous_14)",decl:{start:{line:264,column:65},end:{line:264,column:66}},loc:{start:{line:264,column:76},end:{line:269,column:5}},line:264},"15":{name:"(anonymous_15)",decl:{start:{line:269,column:13},end:{line:269,column:14}},loc:{start:{line:269,column:19},end:{line:273,column:5}},line:269},"16":{name:"(anonymous_16)",decl:{start:{line:300,column:34},end:{line:300,column:35}},loc:{start:{line:300,column:48},end:{line:311,column:3}},line:300},"17":{name:"(anonymous_17)",decl:{start:{line:301,column:70},end:{line:301,column:71}},loc:{start:{line:301,column:84},end:{line:306,column:5}},line:301},"18":{name:"(anonymous_18)",decl:{start:{line:306,column:13},end:{line:306,column:14}},loc:{start:{line:306,column:20},end:{line:310,column:5}},line:306},"19":{name:"(anonymous_19)",decl:{start:{line:345,column:23},end:{line:345,column:24}},loc:{start:{line:345,column:37},end:{line:363,column:3}},line:345},"20":{name:"(anonymous_20)",decl:{start:{line:354,column:45},end:{line:354,column:46}},loc:{start:{line:354,column:59},end:{line:358,column:5}},line:354},"21":{name:"(anonymous_21)",decl:{start:{line:358,column:13},end:{line:358,column:14}},loc:{start:{line:358,column:20},end:{line:362,column:5}},line:358},"22":{name:"(anonymous_22)",decl:{start:{line:367,column:17},end:{line:367,column:18}},loc:{start:{line:367,column:23},end:{line:369,column:1}},line:367}},branchMap:{"0":{loc:{start:{line:121,column:8},end:{line:123,column:9}},type:"if",locations:[{start:{line:121,column:8},end:{line:123,column:9}},{start:{line:121,column:8},end:{line:123,column:9}}],line:121},"1":{loc:{start:{line:175,column:8},end:{line:180,column:9}},type:"if",locations:[{start:{line:175,column:8},end:{line:180,column:9}},{start:{line:175,column:8},end:{line:180,column:9}}],line:175},"2":{loc:{start:{line:182,column:8},end:{line:184,column:9}},type:"if",locations:[{start:{line:182,column:8},end:{line:184,column:9}},{start:{line:182,column:8},end:{line:184,column:9}}],line:182},"3":{loc:{start:{line:215,column:8},end:{line:220,column:9}},type:"if",locations:[{start:{line:215,column:8},end:{line:220,column:9}},{start:{line:215,column:8},end:{line:220,column:9}}],line:215},"4":{loc:{start:{line:222,column:8},end:{line:224,column:9}},type:"if",locations:[{start:{line:222,column:8},end:{line:224,column:9}},{start:{line:222,column:8},end:{line:224,column:9}}],line:222},"5":{loc:{start:{line:270,column:8},end:{line:272,column:9}},type:"if",locations:[{start:{line:270,column:8},end:{line:272,column:9}},{start:{line:270,column:8},end:{line:272,column:9}}],line:270},"6":{loc:{start:{line:307,column:6},end:{line:309,column:7}},type:"if",locations:[{start:{line:307,column:6},end:{line:309,column:7}},{start:{line:307,column:6},end:{line:309,column:7}}],line:307},"7":{loc:{start:{line:359,column:6},end:{line:361,column:7}},type:"if",locations:[{start:{line:359,column:6},end:{line:361,column:7}},{start:{line:359,column:6},end:{line:361,column:7}}],line:359}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"13d3aae261e1f32af2d12b7b23d7975549af7601"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2pq9vl3l2k=function(){return actualCoverage;};}return actualCoverage;}cov_2pq9vl3l2k();//load express
const express=(cov_2pq9vl3l2k().s[0]++,require("express"));const app=(cov_2pq9vl3l2k().s[1]++,express());const bodyParser=(cov_2pq9vl3l2k().s[2]++,require("body-parser"));cov_2pq9vl3l2k().s[3]++;app.use(bodyParser.json());//load swagger
const swaggerJsDoc=(cov_2pq9vl3l2k().s[4]++,require("swagger-jsdoc"));const swaggerUi=(cov_2pq9vl3l2k().s[5]++,require("swagger-ui-express"));//load cors
const cors=(cov_2pq9vl3l2k().s[6]++,require('cors'));cov_2pq9vl3l2k().s[7]++;app.use(cors({origin:'http://localhost:4200'}));//load mongoose
const mongoose=(cov_2pq9vl3l2k().s[8]++,require("mongoose"));//---------------------------------------------------------------------------------------------------------------------------------------------
//connect to database
cov_2pq9vl3l2k().s[9]++;mongoose.connect("mongodb+srv://surbhi:12345@flight.paxk2.mongodb.net/flightData",{useNewUrlParser:true,useUnifiedTopology:true}).then(()=>{cov_2pq9vl3l2k().f[0]++;cov_2pq9vl3l2k().s[10]++;return console.log("Connected to database");}).catch(err=>{cov_2pq9vl3l2k().f[1]++;cov_2pq9vl3l2k().s[11]++;return console.log(err);});//load its model
cov_2pq9vl3l2k().s[12]++;require("./Flight");const Flight=(cov_2pq9vl3l2k().s[13]++,mongoose.model("Flight"));//---------------------------------------------------------------------------------------------------------------------------------------------
//         SWAGGER DOCUMENTATION
// Extended: https://swagger.io/specification/#infoObject
const swaggerOptions=(cov_2pq9vl3l2k().s[14]++,{swaggerDefinition:{info:{version:"1.0.0",title:"Flight API",description:"Flight API Information",contact:{name:"Surbhi"},servers:["http://localhost:4545"]}},// ['.routes/*.js']
apis:["flights.js"]});const swaggerDocs=(cov_2pq9vl3l2k().s[15]++,swaggerJsDoc(swaggerOptions));cov_2pq9vl3l2k().s[16]++;app.use("/api-flight",swaggerUi.serve,swaggerUi.setup(swaggerDocs));cov_2pq9vl3l2k().s[17]++;app.use(express.json());/**
 * @swagger
 * definitions:
 *  Flight:
 *   type: object
 *   properties:
 *    flightCode:
 *      type: string
 *      description: code of the flight
 *      example: 'SC101'
 *    airline:
 *      type: string
 *      description: name of the airline
 *      example: 'SpiceJet'
 *    source:
 *      type: string
 *      description: source
 *      example: 'mumbai'
 *    destination:
 *      type: string
 *      description: Destination
 *      example: 'delhi'
 *    fare:
 *      type: number
 *      description: fare of the flight
 *      example: 2000
 *    
 */ //---------------------------------------------------------------------------------------------------------------------------------------------
// 1] create functionality
/**
 * @swagger
 * /flight:
 *   post:
 *     tags:
 *       - Flights
 *     description: Creates a new flight
 *     produces:
 *       - application/json
 *     parameters:
 *       - name: flight
 *         description: Flight object
 *         in: body
 *         required: true
 *         schema:
 *           $ref: '#/definitions/Flight'
 *     responses:
 *       200:
 *         description: Successfully created
 */cov_2pq9vl3l2k().s[18]++;app.post("/flight",(req,res)=>{cov_2pq9vl3l2k().f[2]++;var newFlight=(cov_2pq9vl3l2k().s[19]++,{flightCode:req.body.flightCode,airline:req.body.airline,source:req.body.source,destination:req.body.destination,fare:req.body.fare});//create new flight
var flight=(cov_2pq9vl3l2k().s[20]++,new Flight(newFlight));cov_2pq9vl3l2k().s[21]++;flight.save().then(data=>{cov_2pq9vl3l2k().f[3]++;cov_2pq9vl3l2k().s[22]++;console.log("New Flight added");cov_2pq9vl3l2k().s[23]++;res.status(200).send(data);//res.json(data)        
}).catch(err=>{cov_2pq9vl3l2k().f[4]++;cov_2pq9vl3l2k().s[24]++;if(err){cov_2pq9vl3l2k().b[0][0]++;cov_2pq9vl3l2k().s[25]++;throw err;}else{cov_2pq9vl3l2k().b[0][1]++;}});//res.send("New flight added successfully")
});//---------------------------------------------------------------------------------------------------------------------------------------------
// 2] RETRIEVE ALL FLIGHTS
/**
 * @swagger
 * /flights:
 *  get:
 *    tags:
 *       - Flights
 *    description: Used to get all flights in database
 *    responses:
 *      '200':
 *        description: Successfully fetched flight
 *      '500':
 *        description: Server error
 */cov_2pq9vl3l2k().s[26]++;app.get("/flights",(req,res)=>{cov_2pq9vl3l2k().f[5]++;cov_2pq9vl3l2k().s[27]++;Flight.find().then(flights=>{cov_2pq9vl3l2k().f[6]++;cov_2pq9vl3l2k().s[28]++;res.json(flights);//console.log(flights);
});});//---------------------------------------------------------------------------------------------------------------------------------------------
// 3] retrieve flight by the code
/**
 * @swagger
 * /flightCode/{flightCode}:
 *  get:
 *    tags:
 *       - Flights
 *    summary: Fetch a flight.
 *    description: Used to fetch a single flight
 *    responses:
 *      '200':
 *        description: Successfully fetched flight
 *      '500':
 *        description: Server error
 *  parameters:
 *       - in: path
 *         name: flightCode
 *         required: true
 *         schema:
 *           type: String
 *         description: The flight code
 */cov_2pq9vl3l2k().s[29]++;app.get("/flightCode/:flightCode",(req,res)=>{cov_2pq9vl3l2k().f[7]++;cov_2pq9vl3l2k().s[30]++;Flight.findOne({flightCode:req.params.flightCode}).then(flight=>{cov_2pq9vl3l2k().f[8]++;cov_2pq9vl3l2k().s[31]++;if(flight){cov_2pq9vl3l2k().b[1][0]++;cov_2pq9vl3l2k().s[32]++;res.send(flight);}else{cov_2pq9vl3l2k().b[1][1]++;cov_2pq9vl3l2k().s[33]++;res.sendStatus(404);}}).catch(err=>{cov_2pq9vl3l2k().f[9]++;cov_2pq9vl3l2k().s[34]++;if(err){cov_2pq9vl3l2k().b[2][0]++;cov_2pq9vl3l2k().s[35]++;throw err;}else{cov_2pq9vl3l2k().b[2][1]++;}});});//---------------------------------------------------------------------------------------------------------------------------------------------
// 4] Retrieve flight by their id 
/**
 * @swagger
 * /flight/{id}:
 *  get:
 *    tags:
 *       - Flights
 *    summary: Fetch a flight.
 *    description: Used to fetch a single flight
 *    responses:
 *      '200':
 *        description: Successfully fetched flight
 *      '500':
 *        description: Server error
 *  parameters:
 *       - in: path
 *         name: id
 *         required: true
 *         schema:
 *           type: integer
 *         description: The flight ID
 */cov_2pq9vl3l2k().s[36]++;app.get("/flight/:id",(req,res)=>{cov_2pq9vl3l2k().f[10]++;cov_2pq9vl3l2k().s[37]++;Flight.findById(req.params.id).then(flight=>{cov_2pq9vl3l2k().f[11]++;cov_2pq9vl3l2k().s[38]++;if(flight){cov_2pq9vl3l2k().b[3][0]++;cov_2pq9vl3l2k().s[39]++;res.json(flight);}else{cov_2pq9vl3l2k().b[3][1]++;cov_2pq9vl3l2k().s[40]++;res.sendStatus(404);}}).catch(err=>{cov_2pq9vl3l2k().f[12]++;cov_2pq9vl3l2k().s[41]++;if(err){cov_2pq9vl3l2k().b[4][0]++;cov_2pq9vl3l2k().s[42]++;throw err;}else{cov_2pq9vl3l2k().b[4][1]++;}});});//---------------------------------------------------------------------------------------------------------------------------------------------
// 5] Retrieve flight by source and destination
/**
 * @swagger
 * /flight/{source}/{destination}:
 *  get:
 *    tags:
 *       - Flights
 *    summary: Search flights
 *    description: Used to search flights
 *    responses:
 *      '200':
 *        description: Successfully searched flights
 *      '500':
 *        description: Server error
 *  parameters:
 *       - in: path
 *         name: source
 *         required: true
 *         schema:
 *           type: String
 *         description: Source
 * 
 *       - in: path
 *         name: destination
 *         required: true
 *         schema:
 *           type: String
 *         description: Destination
 *       
 */cov_2pq9vl3l2k().s[43]++;app.get("/flight/:source/:destination",(req,res)=>{cov_2pq9vl3l2k().f[13]++;let source=(cov_2pq9vl3l2k().s[44]++,req.params.source.toLowerCase());let destination=(cov_2pq9vl3l2k().s[45]++,req.params.destination.toLowerCase());cov_2pq9vl3l2k().s[46]++;Flight.find({source:source,destination:destination}).then(flight=>{cov_2pq9vl3l2k().f[14]++;cov_2pq9vl3l2k().s[47]++;res.json(flight);cov_2pq9vl3l2k().s[48]++;console.log(flight);}).catch(err=>{cov_2pq9vl3l2k().f[15]++;cov_2pq9vl3l2k().s[49]++;if(err){cov_2pq9vl3l2k().b[5][0]++;cov_2pq9vl3l2k().s[50]++;throw err;}else{cov_2pq9vl3l2k().b[5][1]++;}});});//---------------------------------------------------------------------------------------------------------------------------------------------
// 6] removing flights
/**
 * @swagger
 * /flight/{flightCode}:
 *  delete:
 *    tags:
 *       - Flights
 *    summary: Delete a flight.
 *    description: Used to delete a flight
 *    responses:
 *      '200':
 *        description: Successfully deleted flight
 *      '500':
 *        description: Server error
 *  parameters:
 *       - in: path
 *         name: flightCode
 *         required: true
 *         schema:
 *           type: String
 *         description: The flight ID
 */cov_2pq9vl3l2k().s[51]++;app.delete('/flight/:flightCode',(req,res)=>{cov_2pq9vl3l2k().f[16]++;cov_2pq9vl3l2k().s[52]++;Flight.findOneAndRemove({flightCode:req.params.flightCode}).then(response=>{cov_2pq9vl3l2k().f[17]++;cov_2pq9vl3l2k().s[53]++;res.send(response);cov_2pq9vl3l2k().s[54]++;console.log(` flight deleted`);//res.send("Flight removed successfully");
//console.log(flight);
}).catch(err=>{cov_2pq9vl3l2k().f[18]++;cov_2pq9vl3l2k().s[55]++;if(err){cov_2pq9vl3l2k().b[6][0]++;cov_2pq9vl3l2k().s[56]++;throw err;}else{cov_2pq9vl3l2k().b[6][1]++;}});});//---------------------------------------------------------------------------------------------------------------------------------------------
// 7]  UPDATING FLIGHT
/**
 * @swagger
 * /flight/{id}:
 *   put:
 *     tags:
 *       - Flights
 *     description: Creates a new flight
 *     produces:
 *       - application/json
 *     parameters:
 *       - name: id
 *         description: flight object id
 *         in: path
 *         required: true
 *         schema:
 *          type: string
 *          description: user's object id
 *       - name: flight
 *         description: Flight object
 *         in: body
 *         required: true
 *         schema:
 *           $ref: '#/definitions/Flight'
 *     responses:
 *       200:
 *         description: Flight Successfully updated
 *       400:
 *         description: Server Error
 */cov_2pq9vl3l2k().s[57]++;app.put('/flight/:id',(req,res)=>{cov_2pq9vl3l2k().f[19]++;var newFlight=(cov_2pq9vl3l2k().s[58]++,{airline:req.body.airline,flightCode:req.body.flightCode,source:req.body.source,destination:req.body.destination,fare:req.body.fare});cov_2pq9vl3l2k().s[59]++;Flight.findByIdAndUpdate(req.params.id,{"$set":newFlight},{new:true}).then(response=>{cov_2pq9vl3l2k().f[20]++;cov_2pq9vl3l2k().s[60]++;console.log(`flight updated`);cov_2pq9vl3l2k().s[61]++;res.send(response.data);}).catch(err=>{cov_2pq9vl3l2k().f[21]++;cov_2pq9vl3l2k().s[62]++;if(err){cov_2pq9vl3l2k().b[7][0]++;cov_2pq9vl3l2k().s[63]++;throw err;}else{cov_2pq9vl3l2k().b[7][1]++;}});});//---------------------------------------------------------------------------------------------------------------------------------------------
//listen to the port
cov_2pq9vl3l2k().s[64]++;app.listen(4545,()=>{cov_2pq9vl3l2k().f[22]++;cov_2pq9vl3l2k().s[65]++;console.log("Up and running this is our flight search service");});cov_2pq9vl3l2k().s[66]++;module.exports=app;// app.delete('/flight/:id', (req, res) => {
//     Flight.deleteOne({id:req.params.id}).then((response) => {
//       res.send("Flight removed successfully");
//       //console.log(flight);
//     }).catch(err => {
//       if(err){
//         throw err;
//       }
//     })
//   });
//---------------------------------------------------------------------------------------------------------------------------------------------
// 7] Updating flights
// app.put('/flight/:flightCode', (req,res) => {
//     Flight.updateOne({flightCode: req.params.flightCode}, req.body).then((response) => {
//     Flight.findOne({flightCode: req.params.flightCode}).then(function(flight){
//         res.send(flight); 
//     })
//         //res.send("Flight updated successfully");
// }).catch(err => {
//     if(err){
//       throw err;
//     }
//   })
// });
// app.put('/flight/:id', (req,res) => {
//     Flight.findByIdAndUpdate( req.params.id).then((response) => {
//          res.send(response.data)
//          console.log("Flight updated sucessfully");
//         //res.send("Flight updated successfully");
// }).catch(err => {
//     if(err){
//       throw err;
//     }
//   })
// });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZsaWdodHMuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJhcHAiLCJib2R5UGFyc2VyIiwidXNlIiwianNvbiIsInN3YWdnZXJKc0RvYyIsInN3YWdnZXJVaSIsImNvcnMiLCJvcmlnaW4iLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIiwiRmxpZ2h0IiwibW9kZWwiLCJzd2FnZ2VyT3B0aW9ucyIsInN3YWdnZXJEZWZpbml0aW9uIiwiaW5mbyIsInZlcnNpb24iLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiY29udGFjdCIsIm5hbWUiLCJzZXJ2ZXJzIiwiYXBpcyIsInN3YWdnZXJEb2NzIiwic2VydmUiLCJzZXR1cCIsInBvc3QiLCJyZXEiLCJyZXMiLCJuZXdGbGlnaHQiLCJmbGlnaHRDb2RlIiwiYm9keSIsImFpcmxpbmUiLCJzb3VyY2UiLCJkZXN0aW5hdGlvbiIsImZhcmUiLCJmbGlnaHQiLCJzYXZlIiwiZGF0YSIsInN0YXR1cyIsInNlbmQiLCJnZXQiLCJmaW5kIiwiZmxpZ2h0cyIsImZpbmRPbmUiLCJwYXJhbXMiLCJzZW5kU3RhdHVzIiwiZmluZEJ5SWQiLCJpZCIsInRvTG93ZXJDYXNlIiwiZGVsZXRlIiwiZmluZE9uZUFuZFJlbW92ZSIsInJlc3BvbnNlIiwicHV0IiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJuZXciLCJsaXN0ZW4iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoidWhVQWVZOzJGQWZaO0FBQ0EsS0FBTUEsQ0FBQUEsT0FBTywwQkFBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBVixDQUFiLENBQ0EsS0FBTUMsQ0FBQUEsR0FBRywwQkFBR0YsT0FBTyxFQUFWLENBQVQsQ0FDQSxLQUFNRyxDQUFBQSxVQUFVLDBCQUFHRixPQUFPLENBQUMsYUFBRCxDQUFWLENBQWhCLEMsd0JBQ0FDLEdB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TEgsQ0FLU0MsR0FBRyxFQUFJLG1EQUNkLEdBQUdBLEdBQUgsQ0FBTyxxREFDTCxLQUFNQSxDQUFBQSxHQUFOLENBQ0QsQ0FGRCxpQ0FHRCxDQVRELEVBVUQsQ0FsQkgsRUFvQkE7QUFDQTt5QkFDQWhCLEdBQUcsQ0FBQzhELE1BQUosQ0FBVyxJQUFYLENBQWlCLElBQU0sbURBQ25CakQsT0FBTyxDQUFDQyxHQUFSLENBQVksa0RBQVosRUFDSCxDQUZELEUseUJBSUFpRCxNQUFNLENBQUNDLE9BQVAsQ0FBZWhFLEdBQWYsQ0FpQkE7QUFDSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXNDb250ZW50IjpbIi8vbG9hZCBleHByZXNzXHJcbmNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKFwiZXhwcmVzc1wiKTtcclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5jb25zdCBib2R5UGFyc2VyID0gcmVxdWlyZShcImJvZHktcGFyc2VyXCIpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcclxuXHJcbi8vbG9hZCBzd2FnZ2VyXHJcbmNvbnN0IHN3YWdnZXJKc0RvYyA9IHJlcXVpcmUoXCJzd2FnZ2VyLWpzZG9jXCIpO1xyXG5jb25zdCBzd2FnZ2VyVWkgPSByZXF1aXJlKFwic3dhZ2dlci11aS1leHByZXNzXCIpO1xyXG5cclxuLy9sb2FkIGNvcnNcclxuY29uc3QgY29ycyA9IHJlcXVpcmUoJ2NvcnMnKVxyXG5hcHAudXNlKGNvcnMoeyBvcmlnaW46ICdodHRwOi8vbG9jYWxob3N0OjQyMDAnfSkpXHJcbi8vbG9hZCBtb25nb29zZVxyXG5jb25zdCBtb25nb29zZSA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTtcclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy9jb25uZWN0IHRvIGRhdGFiYXNlXHJcbm1vbmdvb3NlLmNvbm5lY3QoXCJtb25nb2RiK3NydjovL3N1cmJoaToxMjM0NUBmbGlnaHQucGF4azIubW9uZ29kYi5uZXQvZmxpZ2h0RGF0YVwiLHt1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTp0cnVlfSlcclxuLnRoZW4oKCk9PiBjb25zb2xlLmxvZyhcIkNvbm5lY3RlZCB0byBkYXRhYmFzZVwiKSlcclxuLmNhdGNoKChlcnIpPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbi8vbG9hZCBpdHMgbW9kZWxcclxucmVxdWlyZShcIi4vRmxpZ2h0XCIpO1xyXG5jb25zdCBGbGlnaHQgPSBtb25nb29zZS5tb2RlbChcIkZsaWdodFwiKVxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vICAgICAgICAgU1dBR0dFUiBET0NVTUVOVEFUSU9OXHJcblxyXG4vLyBFeHRlbmRlZDogaHR0cHM6Ly9zd2FnZ2VyLmlvL3NwZWNpZmljYXRpb24vI2luZm9PYmplY3RcclxuY29uc3Qgc3dhZ2dlck9wdGlvbnMgPSB7XHJcbiAgICBzd2FnZ2VyRGVmaW5pdGlvbjoge1xyXG4gICAgICBpbmZvOiB7XHJcbiAgICAgICAgdmVyc2lvbjogXCIxLjAuMFwiLFxyXG4gICAgICAgIHRpdGxlOiBcIkZsaWdodCBBUElcIixcclxuICAgICAgICBkZXNjcmlwdGlvbjogXCJGbGlnaHQgQVBJIEluZm9ybWF0aW9uXCIsXHJcbiAgICAgICAgY29udGFjdDoge1xyXG4gICAgICAgICAgbmFtZTogXCJTdXJiaGlcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2VydmVyczogW1wiaHR0cDovL2xvY2FsaG9zdDo0NTQ1XCJdXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvLyBbJy5yb3V0ZXMvKi5qcyddXHJcbiAgICBhcGlzOiBbXCJmbGlnaHRzLmpzXCJdXHJcbiAgfTtcclxuICBcclxuICBjb25zdCBzd2FnZ2VyRG9jcyA9IHN3YWdnZXJKc0RvYyhzd2FnZ2VyT3B0aW9ucyk7XHJcbiAgYXBwLnVzZShcIi9hcGktZmxpZ2h0XCIsIHN3YWdnZXJVaS5zZXJ2ZSwgc3dhZ2dlclVpLnNldHVwKHN3YWdnZXJEb2NzKSk7XHJcblxyXG4gIGFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xyXG4vKipcclxuICogQHN3YWdnZXJcclxuICogZGVmaW5pdGlvbnM6XHJcbiAqICBGbGlnaHQ6XHJcbiAqICAgdHlwZTogb2JqZWN0XHJcbiAqICAgcHJvcGVydGllczpcclxuICogICAgZmxpZ2h0Q29kZTpcclxuICogICAgICB0eXBlOiBzdHJpbmdcclxuICogICAgICBkZXNjcmlwdGlvbjogY29kZSBvZiB0aGUgZmxpZ2h0XHJcbiAqICAgICAgZXhhbXBsZTogJ1NDMTAxJ1xyXG4gKiAgICBhaXJsaW5lOlxyXG4gKiAgICAgIHR5cGU6IHN0cmluZ1xyXG4gKiAgICAgIGRlc2NyaXB0aW9uOiBuYW1lIG9mIHRoZSBhaXJsaW5lXHJcbiAqICAgICAgZXhhbXBsZTogJ1NwaWNlSmV0J1xyXG4gKiAgICBzb3VyY2U6XHJcbiAqICAgICAgdHlwZTogc3RyaW5nXHJcbiAqICAgICAgZGVzY3JpcHRpb246IHNvdXJjZVxyXG4gKiAgICAgIGV4YW1wbGU6ICdtdW1iYWknXHJcbiAqICAgIGRlc3RpbmF0aW9uOlxyXG4gKiAgICAgIHR5cGU6IHN0cmluZ1xyXG4gKiAgICAgIGRlc2NyaXB0aW9uOiBEZXN0aW5hdGlvblxyXG4gKiAgICAgIGV4YW1wbGU6ICdkZWxoaSdcclxuICogICAgZmFyZTpcclxuICogICAgICB0eXBlOiBudW1iZXJcclxuICogICAgICBkZXNjcmlwdGlvbjogZmFyZSBvZiB0aGUgZmxpZ2h0XHJcbiAqICAgICAgZXhhbXBsZTogMjAwMFxyXG4gKiAgICBcclxuICovXHJcblxyXG5cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4vLyAxXSBjcmVhdGUgZnVuY3Rpb25hbGl0eVxyXG4vKipcclxuICogQHN3YWdnZXJcclxuICogL2ZsaWdodDpcclxuICogICBwb3N0OlxyXG4gKiAgICAgdGFnczpcclxuICogICAgICAgLSBGbGlnaHRzXHJcbiAqICAgICBkZXNjcmlwdGlvbjogQ3JlYXRlcyBhIG5ldyBmbGlnaHRcclxuICogICAgIHByb2R1Y2VzOlxyXG4gKiAgICAgICAtIGFwcGxpY2F0aW9uL2pzb25cclxuICogICAgIHBhcmFtZXRlcnM6XHJcbiAqICAgICAgIC0gbmFtZTogZmxpZ2h0XHJcbiAqICAgICAgICAgZGVzY3JpcHRpb246IEZsaWdodCBvYmplY3RcclxuICogICAgICAgICBpbjogYm9keVxyXG4gKiAgICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAqICAgICAgICAgc2NoZW1hOlxyXG4gKiAgICAgICAgICAgJHJlZjogJyMvZGVmaW5pdGlvbnMvRmxpZ2h0J1xyXG4gKiAgICAgcmVzcG9uc2VzOlxyXG4gKiAgICAgICAyMDA6XHJcbiAqICAgICAgICAgZGVzY3JpcHRpb246IFN1Y2Nlc3NmdWxseSBjcmVhdGVkXHJcbiAqL1xyXG5cclxuYXBwLnBvc3QoXCIvZmxpZ2h0XCIsIChyZXEscmVzKT0+IHtcclxuICAgIHZhciBuZXdGbGlnaHQgPSB7XHJcbiAgICAgICAgZmxpZ2h0Q29kZTogcmVxLmJvZHkuZmxpZ2h0Q29kZSxcclxuICAgICAgICBhaXJsaW5lOiByZXEuYm9keS5haXJsaW5lLFxyXG4gICAgICAgIHNvdXJjZTogcmVxLmJvZHkuc291cmNlLFxyXG4gICAgICAgIGRlc3RpbmF0aW9uOiByZXEuYm9keS5kZXN0aW5hdGlvbixcclxuICAgICAgICBmYXJlOiByZXEuYm9keS5mYXJlXHJcbiAgICB9XHJcblxyXG4vL2NyZWF0ZSBuZXcgZmxpZ2h0XHJcbiAgICB2YXIgZmxpZ2h0ID0gbmV3IEZsaWdodChuZXdGbGlnaHQpXHJcbiAgICBmbGlnaHQuc2F2ZSgpLnRoZW4oKGRhdGEpPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTmV3IEZsaWdodCBhZGRlZFwiKTtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZChkYXRhKVxyXG4gICAgICAgIC8vcmVzLmpzb24oZGF0YSkgICAgICAgIFxyXG4gICAgfSkuY2F0Y2ggKChlcnIpID0+IHtcclxuICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIC8vcmVzLnNlbmQoXCJOZXcgZmxpZ2h0IGFkZGVkIHN1Y2Nlc3NmdWxseVwiKVxyXG59KSBcclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vIDJdIFJFVFJJRVZFIEFMTCBGTElHSFRTXHJcbi8qKlxyXG4gKiBAc3dhZ2dlclxyXG4gKiAvZmxpZ2h0czpcclxuICogIGdldDpcclxuICogICAgdGFnczpcclxuICogICAgICAgLSBGbGlnaHRzXHJcbiAqICAgIGRlc2NyaXB0aW9uOiBVc2VkIHRvIGdldCBhbGwgZmxpZ2h0cyBpbiBkYXRhYmFzZVxyXG4gKiAgICByZXNwb25zZXM6XHJcbiAqICAgICAgJzIwMCc6XHJcbiAqICAgICAgICBkZXNjcmlwdGlvbjogU3VjY2Vzc2Z1bGx5IGZldGNoZWQgZmxpZ2h0XHJcbiAqICAgICAgJzUwMCc6XHJcbiAqICAgICAgICBkZXNjcmlwdGlvbjogU2VydmVyIGVycm9yXHJcbiAqL1xyXG5hcHAuZ2V0KFwiL2ZsaWdodHNcIiwgKHJlcSxyZXMpPT4ge1xyXG4gICAgRmxpZ2h0LmZpbmQoKS50aGVuKChmbGlnaHRzKT0+e1xyXG4gICAgICAgIHJlcy5qc29uKGZsaWdodHMpXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhmbGlnaHRzKTtcclxuICAgIH0pXHJcbn0pXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4vLyAzXSByZXRyaWV2ZSBmbGlnaHQgYnkgdGhlIGNvZGVcclxuLyoqXHJcbiAqIEBzd2FnZ2VyXHJcbiAqIC9mbGlnaHRDb2RlL3tmbGlnaHRDb2RlfTpcclxuICogIGdldDpcclxuICogICAgdGFnczpcclxuICogICAgICAgLSBGbGlnaHRzXHJcbiAqICAgIHN1bW1hcnk6IEZldGNoIGEgZmxpZ2h0LlxyXG4gKiAgICBkZXNjcmlwdGlvbjogVXNlZCB0byBmZXRjaCBhIHNpbmdsZSBmbGlnaHRcclxuICogICAgcmVzcG9uc2VzOlxyXG4gKiAgICAgICcyMDAnOlxyXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFN1Y2Nlc3NmdWxseSBmZXRjaGVkIGZsaWdodFxyXG4gKiAgICAgICc1MDAnOlxyXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFNlcnZlciBlcnJvclxyXG4gKiAgcGFyYW1ldGVyczpcclxuICogICAgICAgLSBpbjogcGF0aFxyXG4gKiAgICAgICAgIG5hbWU6IGZsaWdodENvZGVcclxuICogICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gKiAgICAgICAgIHNjaGVtYTpcclxuICogICAgICAgICAgIHR5cGU6IFN0cmluZ1xyXG4gKiAgICAgICAgIGRlc2NyaXB0aW9uOiBUaGUgZmxpZ2h0IGNvZGVcclxuICovXHJcbmFwcC5nZXQoXCIvZmxpZ2h0Q29kZS86ZmxpZ2h0Q29kZVwiLChyZXEscmVzKSA9PiB7XHJcbiAgICBGbGlnaHQuZmluZE9uZSh7ZmxpZ2h0Q29kZTogcmVxLnBhcmFtcy5mbGlnaHRDb2RlfSkudGhlbigoZmxpZ2h0KT0+IHtcclxuICAgICAgICBpZihmbGlnaHQpe1xyXG4gICAgICAgICAgICByZXMuc2VuZChmbGlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmVzLnNlbmRTdGF0dXMoNDA0KTtcclxuICAgICAgICB9XHJcbiAgICB9KS5jYXRjaChlcnIgPT57XHJcbiAgICAgICAgaWYoZXJyKXtcclxuICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn0gKVxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vIDRdIFJldHJpZXZlIGZsaWdodCBieSB0aGVpciBpZCBcclxuLyoqXHJcbiAqIEBzd2FnZ2VyXHJcbiAqIC9mbGlnaHQve2lkfTpcclxuICogIGdldDpcclxuICogICAgdGFnczpcclxuICogICAgICAgLSBGbGlnaHRzXHJcbiAqICAgIHN1bW1hcnk6IEZldGNoIGEgZmxpZ2h0LlxyXG4gKiAgICBkZXNjcmlwdGlvbjogVXNlZCB0byBmZXRjaCBhIHNpbmdsZSBmbGlnaHRcclxuICogICAgcmVzcG9uc2VzOlxyXG4gKiAgICAgICcyMDAnOlxyXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFN1Y2Nlc3NmdWxseSBmZXRjaGVkIGZsaWdodFxyXG4gKiAgICAgICc1MDAnOlxyXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFNlcnZlciBlcnJvclxyXG4gKiAgcGFyYW1ldGVyczpcclxuICogICAgICAgLSBpbjogcGF0aFxyXG4gKiAgICAgICAgIG5hbWU6IGlkXHJcbiAqICAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICogICAgICAgICBzY2hlbWE6XHJcbiAqICAgICAgICAgICB0eXBlOiBpbnRlZ2VyXHJcbiAqICAgICAgICAgZGVzY3JpcHRpb246IFRoZSBmbGlnaHQgSURcclxuICovXHJcblxyXG5hcHAuZ2V0KFwiL2ZsaWdodC86aWRcIiwocmVxLHJlcykgPT4ge1xyXG4gICAgRmxpZ2h0LmZpbmRCeUlkKCByZXEucGFyYW1zLmlkKS50aGVuKChmbGlnaHQpPT4ge1xyXG4gICAgICAgIGlmKGZsaWdodCl7XHJcbiAgICAgICAgICAgIHJlcy5qc29uKGZsaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXMuc2VuZFN0YXR1cyg0MDQpO1xyXG4gICAgICAgIH1cclxuICAgIH0pLmNhdGNoKGVyciA9PntcclxuICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufSApXHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLy8gNV0gUmV0cmlldmUgZmxpZ2h0IGJ5IHNvdXJjZSBhbmQgZGVzdGluYXRpb25cclxuLyoqXHJcbiAqIEBzd2FnZ2VyXHJcbiAqIC9mbGlnaHQve3NvdXJjZX0ve2Rlc3RpbmF0aW9ufTpcclxuICogIGdldDpcclxuICogICAgdGFnczpcclxuICogICAgICAgLSBGbGlnaHRzXHJcbiAqICAgIHN1bW1hcnk6IFNlYXJjaCBmbGlnaHRzXHJcbiAqICAgIGRlc2NyaXB0aW9uOiBVc2VkIHRvIHNlYXJjaCBmbGlnaHRzXHJcbiAqICAgIHJlc3BvbnNlczpcclxuICogICAgICAnMjAwJzpcclxuICogICAgICAgIGRlc2NyaXB0aW9uOiBTdWNjZXNzZnVsbHkgc2VhcmNoZWQgZmxpZ2h0c1xyXG4gKiAgICAgICc1MDAnOlxyXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFNlcnZlciBlcnJvclxyXG4gKiAgcGFyYW1ldGVyczpcclxuICogICAgICAgLSBpbjogcGF0aFxyXG4gKiAgICAgICAgIG5hbWU6IHNvdXJjZVxyXG4gKiAgICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAqICAgICAgICAgc2NoZW1hOlxyXG4gKiAgICAgICAgICAgdHlwZTogU3RyaW5nXHJcbiAqICAgICAgICAgZGVzY3JpcHRpb246IFNvdXJjZVxyXG4gKiBcclxuICogICAgICAgLSBpbjogcGF0aFxyXG4gKiAgICAgICAgIG5hbWU6IGRlc3RpbmF0aW9uXHJcbiAqICAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICogICAgICAgICBzY2hlbWE6XHJcbiAqICAgICAgICAgICB0eXBlOiBTdHJpbmdcclxuICogICAgICAgICBkZXNjcmlwdGlvbjogRGVzdGluYXRpb25cclxuICogICAgICAgXHJcbiAqL1xyXG5hcHAuZ2V0KFwiL2ZsaWdodC86c291cmNlLzpkZXN0aW5hdGlvblwiLChyZXEscmVzKSA9PiB7XHJcbiAgICBsZXQgc291cmNlID0gcmVxLnBhcmFtcy5zb3VyY2UudG9Mb3dlckNhc2UoKTtcclxuICAgIGxldCBkZXN0aW5hdGlvbiA9IHJlcS5wYXJhbXMuZGVzdGluYXRpb24udG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICBGbGlnaHQuZmluZCh7c291cmNlOiBzb3VyY2UsIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbn0pLnRoZW4oKGZsaWdodCk9PiB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIHJlcy5qc29uKGZsaWdodCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGZsaWdodCk7XHJcbiAgICAgICAgXHJcbiAgICB9KS5jYXRjaChlcnIgPT57XHJcbiAgICAgICAgaWYoZXJyKXtcclxuICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn0gKVxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vIDZdIHJlbW92aW5nIGZsaWdodHNcclxuLyoqXHJcbiAqIEBzd2FnZ2VyXHJcbiAqIC9mbGlnaHQve2ZsaWdodENvZGV9OlxyXG4gKiAgZGVsZXRlOlxyXG4gKiAgICB0YWdzOlxyXG4gKiAgICAgICAtIEZsaWdodHNcclxuICogICAgc3VtbWFyeTogRGVsZXRlIGEgZmxpZ2h0LlxyXG4gKiAgICBkZXNjcmlwdGlvbjogVXNlZCB0byBkZWxldGUgYSBmbGlnaHRcclxuICogICAgcmVzcG9uc2VzOlxyXG4gKiAgICAgICcyMDAnOlxyXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFN1Y2Nlc3NmdWxseSBkZWxldGVkIGZsaWdodFxyXG4gKiAgICAgICc1MDAnOlxyXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFNlcnZlciBlcnJvclxyXG4gKiAgcGFyYW1ldGVyczpcclxuICogICAgICAgLSBpbjogcGF0aFxyXG4gKiAgICAgICAgIG5hbWU6IGZsaWdodENvZGVcclxuICogICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gKiAgICAgICAgIHNjaGVtYTpcclxuICogICAgICAgICAgIHR5cGU6IFN0cmluZ1xyXG4gKiAgICAgICAgIGRlc2NyaXB0aW9uOiBUaGUgZmxpZ2h0IElEXHJcbiAqL1xyXG5hcHAuZGVsZXRlKCcvZmxpZ2h0LzpmbGlnaHRDb2RlJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBGbGlnaHQuZmluZE9uZUFuZFJlbW92ZSh7ZmxpZ2h0Q29kZTogcmVxLnBhcmFtcy5mbGlnaHRDb2RlfSkudGhlbigocmVzcG9uc2UpID0+IHsgICAgICAgIFxyXG4gICAgICAgIHJlcy5zZW5kKHJlc3BvbnNlKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGAgZmxpZ2h0IGRlbGV0ZWRgICk7XHJcbiAgICAgIC8vcmVzLnNlbmQoXCJGbGlnaHQgcmVtb3ZlZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgIC8vY29uc29sZS5sb2coZmxpZ2h0KTtcclxuICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgIGlmKGVycil7XHJcbiAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH0pO1xyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gN10gIFVQREFUSU5HIEZMSUdIVFxyXG4vKipcclxuICogQHN3YWdnZXJcclxuICogL2ZsaWdodC97aWR9OlxyXG4gKiAgIHB1dDpcclxuICogICAgIHRhZ3M6XHJcbiAqICAgICAgIC0gRmxpZ2h0c1xyXG4gKiAgICAgZGVzY3JpcHRpb246IENyZWF0ZXMgYSBuZXcgZmxpZ2h0XHJcbiAqICAgICBwcm9kdWNlczpcclxuICogICAgICAgLSBhcHBsaWNhdGlvbi9qc29uXHJcbiAqICAgICBwYXJhbWV0ZXJzOlxyXG4gKiAgICAgICAtIG5hbWU6IGlkXHJcbiAqICAgICAgICAgZGVzY3JpcHRpb246IGZsaWdodCBvYmplY3QgaWRcclxuICogICAgICAgICBpbjogcGF0aFxyXG4gKiAgICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAqICAgICAgICAgc2NoZW1hOlxyXG4gKiAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICogICAgICAgICAgZGVzY3JpcHRpb246IHVzZXIncyBvYmplY3QgaWRcclxuICogICAgICAgLSBuYW1lOiBmbGlnaHRcclxuICogICAgICAgICBkZXNjcmlwdGlvbjogRmxpZ2h0IG9iamVjdFxyXG4gKiAgICAgICAgIGluOiBib2R5XHJcbiAqICAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICogICAgICAgICBzY2hlbWE6XHJcbiAqICAgICAgICAgICAkcmVmOiAnIy9kZWZpbml0aW9ucy9GbGlnaHQnXHJcbiAqICAgICByZXNwb25zZXM6XHJcbiAqICAgICAgIDIwMDpcclxuICogICAgICAgICBkZXNjcmlwdGlvbjogRmxpZ2h0IFN1Y2Nlc3NmdWxseSB1cGRhdGVkXHJcbiAqICAgICAgIDQwMDpcclxuICogICAgICAgICBkZXNjcmlwdGlvbjogU2VydmVyIEVycm9yXHJcbiAqL1xyXG5cclxuYXBwLnB1dCgnL2ZsaWdodC86aWQnLCAocmVxLCByZXMpID0+IHtcclxuICAgIHZhciBuZXdGbGlnaHQgPSB7XHJcbiAgICAgIGFpcmxpbmU6IHJlcS5ib2R5LmFpcmxpbmUsXHJcbiAgICAgIGZsaWdodENvZGU6IHJlcS5ib2R5LmZsaWdodENvZGUsXHJcbiAgICAgIHNvdXJjZTogcmVxLmJvZHkuc291cmNlLFxyXG4gICAgICBkZXN0aW5hdGlvbjogcmVxLmJvZHkuZGVzdGluYXRpb24sXHJcbiAgICAgIGZhcmU6IHJlcS5ib2R5LmZhcmVcclxuICAgIH1cclxuICAgIEZsaWdodC5maW5kQnlJZEFuZFVwZGF0ZShyZXEucGFyYW1zLmlkLCBcclxuICAgICAge1wiJHNldFwiOiBuZXdGbGlnaHR9LCB7bmV3OiB0cnVlfSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coYGZsaWdodCB1cGRhdGVkYCk7XHJcbiAgICBcclxuICByZXMuc2VuZChyZXNwb25zZS5kYXRhKTtcclxuICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgIGlmKGVycil7XHJcbiAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH0pO1xyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy9saXN0ZW4gdG8gdGhlIHBvcnRcclxuYXBwLmxpc3Rlbig0NTQ1LCAoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcIlVwIGFuZCBydW5uaW5nIHRoaXMgaXMgb3VyIGZsaWdodCBzZWFyY2ggc2VydmljZVwiKTtcclxufSlcclxuXHJcbm1vZHVsZS5leHBvcnRzPWFwcDtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIGFwcC5kZWxldGUoJy9mbGlnaHQvOmlkJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAvLyAgICAgRmxpZ2h0LmRlbGV0ZU9uZSh7aWQ6cmVxLnBhcmFtcy5pZH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAvLyAgICAgICByZXMuc2VuZChcIkZsaWdodCByZW1vdmVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuICAgIC8vICAgICAgIC8vY29uc29sZS5sb2coZmxpZ2h0KTtcclxuICAgIC8vICAgICB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgLy8gICAgICAgaWYoZXJyKXtcclxuICAgIC8vICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgLy8gICAgICAgfVxyXG4gICAgLy8gICAgIH0pXHJcbiAgICAvLyAgIH0pO1xyXG4gICAgXHJcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgXHJcbiAgICAvLyA3XSBVcGRhdGluZyBmbGlnaHRzXHJcbiAgICAvLyBhcHAucHV0KCcvZmxpZ2h0LzpmbGlnaHRDb2RlJywgKHJlcSxyZXMpID0+IHtcclxuICAgIC8vICAgICBGbGlnaHQudXBkYXRlT25lKHtmbGlnaHRDb2RlOiByZXEucGFyYW1zLmZsaWdodENvZGV9LCByZXEuYm9keSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgIC8vICAgICBGbGlnaHQuZmluZE9uZSh7ZmxpZ2h0Q29kZTogcmVxLnBhcmFtcy5mbGlnaHRDb2RlfSkudGhlbihmdW5jdGlvbihmbGlnaHQpe1xyXG4gICAgLy8gICAgICAgICByZXMuc2VuZChmbGlnaHQpOyBcclxuICAgIC8vICAgICB9KVxyXG4gICAgLy8gICAgICAgICAvL3Jlcy5zZW5kKFwiRmxpZ2h0IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgICAgXHJcbiAgICAvLyB9KS5jYXRjaChlcnIgPT4ge1xyXG4gICAgLy8gICAgIGlmKGVycil7XHJcbiAgICAvLyAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICB9KVxyXG4gICAgLy8gfSk7XHJcbiAgICBcclxuICAgIC8vIGFwcC5wdXQoJy9mbGlnaHQvOmlkJywgKHJlcSxyZXMpID0+IHtcclxuICAgIC8vICAgICBGbGlnaHQuZmluZEJ5SWRBbmRVcGRhdGUoIHJlcS5wYXJhbXMuaWQpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAvLyAgICAgICAgICByZXMuc2VuZChyZXNwb25zZS5kYXRhKVxyXG4gICAgLy8gICAgICAgICAgY29uc29sZS5sb2coXCJGbGlnaHQgdXBkYXRlZCBzdWNlc3NmdWxseVwiKTtcclxuICAgIC8vICAgICAgICAgLy9yZXMuc2VuZChcIkZsaWdodCB1cGRhdGVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuICAgICAgICAgIFxyXG4gICAgLy8gfSkuY2F0Y2goZXJyID0+IHtcclxuICAgIC8vICAgICBpZihlcnIpe1xyXG4gICAgLy8gICAgICAgdGhyb3cgZXJyO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgfSlcclxuICAgIC8vIH0pOyJdfQ==