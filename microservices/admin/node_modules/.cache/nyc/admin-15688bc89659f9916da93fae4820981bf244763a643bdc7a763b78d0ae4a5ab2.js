function cov_1dpkye6lgx(){var path="C:\\Users\\Surbhi bhor\\Desktop\\Case study\\microservices\\admin\\admin.js";var hash="d20cbe61afd0d1e89c5659a2a5725aa6a2f91318";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Surbhi bhor\\Desktop\\Case study\\microservices\\admin\\admin.js",statementMap:{"0":{start:{line:2,column:16},end:{line:2,column:34}},"1":{start:{line:3,column:12},end:{line:3,column:21}},"2":{start:{line:4,column:14},end:{line:4,column:30}},"3":{start:{line:6,column:19},end:{line:6,column:41}},"4":{start:{line:7,column:21},end:{line:7,column:39}},"5":{start:{line:8,column:0},end:{line:8,column:27}},"6":{start:{line:11,column:21},end:{line:11,column:45}},"7":{start:{line:12,column:18},end:{line:12,column:47}},"8":{start:{line:15,column:13},end:{line:15,column:28}},"9":{start:{line:16,column:0},end:{line:16,column:49}},"10":{start:{line:21,column:23},end:{line:35,column:3}},"11":{start:{line:37,column:22},end:{line:37,column:50}},"12":{start:{line:38,column:2},end:{line:38,column:71}},"13":{start:{line:39,column:2},end:{line:39,column:26}},"14":{start:{line:82,column:0},end:{line:93,column:2}},"15":{start:{line:84,column:4},end:{line:92,column:6}},"16":{start:{line:86,column:8},end:{line:86,column:31}},"17":{start:{line:89,column:8},end:{line:91,column:9}},"18":{start:{line:90,column:12},end:{line:90,column:22}},"19":{start:{line:119,column:0},end:{line:130,column:2}},"20":{start:{line:121,column:4},end:{line:129,column:6}},"21":{start:{line:123,column:8},end:{line:123,column:31}},"22":{start:{line:126,column:8},end:{line:128,column:9}},"23":{start:{line:127,column:12},end:{line:127,column:22}},"24":{start:{line:155,column:0},end:{line:172,column:2}},"25":{start:{line:156,column:20},end:{line:162,column:5}},"26":{start:{line:163,column:4},end:{line:171,column:6}},"27":{start:{line:164,column:8},end:{line:164,column:31}},"28":{start:{line:168,column:8},end:{line:170,column:9}},"29":{start:{line:169,column:12},end:{line:169,column:22}},"30":{start:{line:199,column:0},end:{line:210,column:2}},"31":{start:{line:200,column:4},end:{line:209,column:6}},"32":{start:{line:201,column:8},end:{line:201,column:43}},"33":{start:{line:202,column:8},end:{line:202,column:32}},"34":{start:{line:206,column:8},end:{line:208,column:9}},"35":{start:{line:207,column:12},end:{line:207,column:22}},"36":{start:{line:246,column:0},end:{line:256,column:2}},"37":{start:{line:247,column:4},end:{line:255,column:6}},"38":{start:{line:248,column:8},end:{line:248,column:39}},"39":{start:{line:250,column:8},end:{line:250,column:32}},"40":{start:{line:252,column:8},end:{line:254,column:9}},"41":{start:{line:253,column:12},end:{line:253,column:22}},"42":{start:{line:261,column:0},end:{line:263,column:2}},"43":{start:{line:262,column:4},end:{line:262,column:60}},"44":{start:{line:265,column:0},end:{line:265,column:21}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:82,column:25},end:{line:82,column:26}},loc:{start:{line:82,column:37},end:{line:93,column:1}},line:82},"1":{name:"(anonymous_1)",decl:{start:{line:84,column:52},end:{line:84,column:53}},loc:{start:{line:84,column:65},end:{line:88,column:5}},line:84},"2":{name:"(anonymous_2)",decl:{start:{line:88,column:14},end:{line:88,column:15}},loc:{start:{line:88,column:23},end:{line:92,column:5}},line:88},"3":{name:"(anonymous_3)",decl:{start:{line:119,column:37},end:{line:119,column:38}},loc:{start:{line:119,column:49},end:{line:130,column:1}},line:119},"4":{name:"(anonymous_4)",decl:{start:{line:121,column:79},end:{line:121,column:80}},loc:{start:{line:121,column:92},end:{line:125,column:5}},line:121},"5":{name:"(anonymous_5)",decl:{start:{line:125,column:14},end:{line:125,column:15}},loc:{start:{line:125,column:23},end:{line:129,column:5}},line:125},"6":{name:"(anonymous_6)",decl:{start:{line:155,column:26},end:{line:155,column:27}},loc:{start:{line:155,column:38},end:{line:172,column:1}},line:155},"7":{name:"(anonymous_7)",decl:{start:{line:163,column:63},end:{line:163,column:64}},loc:{start:{line:163,column:76},end:{line:167,column:5}},line:163},"8":{name:"(anonymous_8)",decl:{start:{line:167,column:14},end:{line:167,column:15}},loc:{start:{line:167,column:23},end:{line:171,column:5}},line:167},"9":{name:"(anonymous_9)",decl:{start:{line:199,column:40},end:{line:199,column:41}},loc:{start:{line:199,column:52},end:{line:210,column:1}},line:199},"10":{name:"(anonymous_10)",decl:{start:{line:200,column:78},end:{line:200,column:79}},loc:{start:{line:200,column:91},end:{line:205,column:5}},line:200},"11":{name:"(anonymous_11)",decl:{start:{line:205,column:14},end:{line:205,column:15}},loc:{start:{line:205,column:23},end:{line:209,column:5}},line:205},"12":{name:"(anonymous_12)",decl:{start:{line:246,column:29},end:{line:246,column:30}},loc:{start:{line:246,column:41},end:{line:256,column:1}},line:246},"13":{name:"(anonymous_13)",decl:{start:{line:247,column:78},end:{line:247,column:79}},loc:{start:{line:247,column:91},end:{line:251,column:5}},line:247},"14":{name:"(anonymous_14)",decl:{start:{line:251,column:14},end:{line:251,column:15}},loc:{start:{line:251,column:23},end:{line:255,column:5}},line:251},"15":{name:"(anonymous_15)",decl:{start:{line:261,column:17},end:{line:261,column:18}},loc:{start:{line:261,column:23},end:{line:263,column:1}},line:261}},branchMap:{"0":{loc:{start:{line:89,column:8},end:{line:91,column:9}},type:"if",locations:[{start:{line:89,column:8},end:{line:91,column:9}},{start:{line:89,column:8},end:{line:91,column:9}}],line:89},"1":{loc:{start:{line:126,column:8},end:{line:128,column:9}},type:"if",locations:[{start:{line:126,column:8},end:{line:128,column:9}},{start:{line:126,column:8},end:{line:128,column:9}}],line:126},"2":{loc:{start:{line:168,column:8},end:{line:170,column:9}},type:"if",locations:[{start:{line:168,column:8},end:{line:170,column:9}},{start:{line:168,column:8},end:{line:170,column:9}}],line:168},"3":{loc:{start:{line:206,column:8},end:{line:208,column:9}},type:"if",locations:[{start:{line:206,column:8},end:{line:208,column:9}},{start:{line:206,column:8},end:{line:208,column:9}}],line:206},"4":{loc:{start:{line:252,column:8},end:{line:254,column:9}},type:"if",locations:[{start:{line:252,column:8},end:{line:254,column:9}},{start:{line:252,column:8},end:{line:254,column:9}}],line:252}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d20cbe61afd0d1e89c5659a2a5725aa6a2f91318"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1dpkye6lgx=function(){return actualCoverage;};}return actualCoverage;}cov_1dpkye6lgx();//load express
const express=(cov_1dpkye6lgx().s[0]++,require("express"));const app=(cov_1dpkye6lgx().s[1]++,express());const axios=(cov_1dpkye6lgx().s[2]++,require("axios"));const bodyParser=(cov_1dpkye6lgx().s[3]++,require("body-parser"));const{response}=(cov_1dpkye6lgx().s[4]++,require("express"));cov_1dpkye6lgx().s[5]++;app.use(bodyParser.json());//load swagger
const swaggerJsDoc=(cov_1dpkye6lgx().s[6]++,require("swagger-jsdoc"));const swaggerUi=(cov_1dpkye6lgx().s[7]++,require("swagger-ui-express"));//load cors
const cors=(cov_1dpkye6lgx().s[8]++,require('cors'));cov_1dpkye6lgx().s[9]++;app.use(cors({origin:'http://localhost:4200'}));// ---------------------------------------------------------------------------------------------------------------------------------------------
//                 SWAGGER DOCUMENTATION
// Extended: https://swagger.io/specification/#infoObject
const swaggerOptions=(cov_1dpkye6lgx().s[10]++,{swaggerDefinition:{info:{version:"1.0.0",title:"Admin API",description:"Admin API Information",contact:{name:"Surbhi"},servers:["http://localhost:7777"]}},// ['.routes/*.js']
apis:["admin.js"]});const swaggerDocs=(cov_1dpkye6lgx().s[11]++,swaggerJsDoc(swaggerOptions));cov_1dpkye6lgx().s[12]++;app.use("/api-admin",swaggerUi.serve,swaggerUi.setup(swaggerDocs));cov_1dpkye6lgx().s[13]++;app.use(express.json());/**
   * @swagger
   * definitions:
   *  Flight:
   *   type: object
   *   properties:
   *    flightCode:
   *      type: string
   *      description: code of the flight
   *      example: 'SC101'
   *    airline:
   *      type: string
   *      description: name of the airline
   *      example: 'SpiceJet'
   *    source:
   *      type: string
   *      description: source
   *      example: 'mumbai'
   *    destination:
   *      type: string
   *      description: Destination
   *      example: 'delhi'
   *    fare:
   *      type: number
   *      description: fare of the flight
   *      example: 2000
   *    
   */ //---------------------------------------------------------------------------------------------------------------------------------------------
// 1] Get all the flights in db
/**
 * @swagger
 * /admin/flight:
 *  get:
 *    tags:
 *       - Admin
 *    description: Used to get all flights in database
 *    responses:
 *      '200':
 *        description: Listed all the flights available in flightData Db
 */cov_1dpkye6lgx().s[14]++;app.get('/admin/flight',(req,res)=>{cov_1dpkye6lgx().f[0]++;cov_1dpkye6lgx().s[15]++;axios.get('http://localhost:4545/flights').then(response=>{cov_1dpkye6lgx().f[1]++;cov_1dpkye6lgx().s[16]++;res.json(response.data);// res.json("Listed all the flights");
}).catch(err=>{cov_1dpkye6lgx().f[2]++;cov_1dpkye6lgx().s[17]++;if(err){cov_1dpkye6lgx().b[0][0]++;cov_1dpkye6lgx().s[18]++;throw err;}else{cov_1dpkye6lgx().b[0][1]++;}});});//---------------------------------------------------------------------------------------------------------------------------------------------
// 2] List the flights from flight microservice by its code
/**
 * @swagger
 * /admin/flight/{flightCode}:
 *  get:
 *    tags:
 *       - Admin
 *    summary: Fetch a flight.
 *    description: Used to fetch a single flight
 *    responses:
 *      '200':
 *        description: Successfully fetched flight
 *      '500':
 *        description: Server error
 *  parameters:
 *       - in: path
 *         name: flightCode
 *         required: true
 *         schema:
 *           type: String
 *         description: The flight code
 */cov_1dpkye6lgx().s[19]++;app.get('/admin/flight/:flightCode',(req,res)=>{cov_1dpkye6lgx().f[3]++;cov_1dpkye6lgx().s[20]++;axios.get('http://localhost:4545/flightCode/'+req.params.flightCode).then(response=>{cov_1dpkye6lgx().f[4]++;cov_1dpkye6lgx().s[21]++;res.json(response.data);// res.json("Listed all the flights");
}).catch(err=>{cov_1dpkye6lgx().f[5]++;cov_1dpkye6lgx().s[22]++;if(err){cov_1dpkye6lgx().b[1][0]++;cov_1dpkye6lgx().s[23]++;throw err;}else{cov_1dpkye6lgx().b[1][1]++;}});});//---------------------------------------------------------------------------------------------------------------------------------------------
// 3] Add new flight in flight microservice
/**
 * @swagger
 * /admin/flight:
 *   post:
 *     tags:
 *       - Admin
 *     description: Creates a new flight
 *     produces:
 *       - application/json
 *     parameters:
 *       - name: flight
 *         description: Flight object
 *         in: body
 *         required: true
 *         schema:
 *           $ref: '#/definitions/Flight'
 *     responses:
 *       200:
 *         description: Successfully created
 */cov_1dpkye6lgx().s[24]++;app.post('/admin/flight',(req,res)=>{cov_1dpkye6lgx().f[6]++;var newFlight=(cov_1dpkye6lgx().s[25]++,{flightCode:req.body.flightCode,airline:req.body.airline,source:req.body.source,destination:req.body.destination,fare:req.body.fare});cov_1dpkye6lgx().s[26]++;axios.post('http://localhost:4545/flight',newFlight).then(response=>{cov_1dpkye6lgx().f[7]++;cov_1dpkye6lgx().s[27]++;res.json(response.data);//console.log(response.data);
//res.send("New flight added successfully");
}).catch(err=>{cov_1dpkye6lgx().f[8]++;cov_1dpkye6lgx().s[28]++;if(err){cov_1dpkye6lgx().b[2][0]++;cov_1dpkye6lgx().s[29]++;throw err;}else{cov_1dpkye6lgx().b[2][1]++;}});});//---------------------------------------------------------------------------------------------------------------------------------------------
// 4] delete flights from flight microservice
/**
 * @swagger
 * /admin/flight/{flightCode}:
 *  delete:
 *    tags:
 *       - Admin
 *    summary: Delete a flight.
 *    description: Used to delete a flight
 *    responses:
 *      '200':
 *        description: Successfully deleted flight
 *      '500':
 *        description: Server error
 *  parameters:
 *       - in: path
 *         name: flightCode
 *         required: true
 *         schema:
 *           type: String
 *         description: The flight code
 */cov_1dpkye6lgx().s[30]++;app.delete('/admin/flight/:flightCode',(req,res)=>{cov_1dpkye6lgx().f[9]++;cov_1dpkye6lgx().s[31]++;axios.delete('http://localhost:4545/flight/'+req.params.flightCode).then(response=>{cov_1dpkye6lgx().f[10]++;cov_1dpkye6lgx().s[32]++;console.log(req.params.flightCode);cov_1dpkye6lgx().s[33]++;res.send(response.data);//console.log(response.data);
//res.json("Deleted the required flight");
}).catch(err=>{cov_1dpkye6lgx().f[11]++;cov_1dpkye6lgx().s[34]++;if(err){cov_1dpkye6lgx().b[3][0]++;cov_1dpkye6lgx().s[35]++;throw err;}else{cov_1dpkye6lgx().b[3][1]++;}});});//---------------------------------------------------------------------------------------------------------------------------------------------
// 5] Update flights from flight microservice
/**
 * @swagger
 * /admin/flight/{id}:
 *   put:
 *     tags:
 *       - Admin
 *     description: Creates a new flight
 *     produces:
 *       - application/json
 *     parameters:
 *       - name: id
 *         description: flight object id
 *         in: path
 *         required: true
 *         schema:
 *          type: string
 *          description: user's object id
 *       - name: flight
 *         description: Flight object
 *         in: body
 *         required: true
 *         schema:
 *           $ref: '#/definitions/Flight'
 *     responses:
 *       200:
 *         description: Flight Successfully updated
 *       400:
 *         description: Server Error
 */cov_1dpkye6lgx().s[36]++;app.put('/admin/flight/:id',(req,res)=>{cov_1dpkye6lgx().f[12]++;cov_1dpkye6lgx().s[37]++;axios.put('http://localhost:4545/flight/'+req.params.id,req.body).then(response=>{cov_1dpkye6lgx().f[13]++;cov_1dpkye6lgx().s[38]++;console.log("Flight Updated!");cov_1dpkye6lgx().s[39]++;res.send(response.data);}).catch(err=>{cov_1dpkye6lgx().f[14]++;cov_1dpkye6lgx().s[40]++;if(err){cov_1dpkye6lgx().b[4][0]++;cov_1dpkye6lgx().s[41]++;throw err;}else{cov_1dpkye6lgx().b[4][1]++;}});});//---------------------------------------------------------------------------------------------------------------------------------------------
//listen to the port
cov_1dpkye6lgx().s[42]++;app.listen(7777,()=>{cov_1dpkye6lgx().f[15]++;cov_1dpkye6lgx().s[43]++;console.log("Up and running this is our admin service");});cov_1dpkye6lgx().s[44]++;module.exports=app;// app.delete('/admin/flight/:id', (req,res)=> {
//     axios.delete('http://localhost:4545/flight/'+ req.params.id).then((response)=> {
//         console.log(response.data);
//         res.json("Deleted the required flight");
//     }).catch ((err) => {
//         if(err){
//             throw err;
//         }
//     })
// })
// app.get('/admin/flight/:id', (req,res)=> {
//     axios.get('http://localhost:4545/flight/'+ req.params.id).then((response)=> {
//         res.json(response.data)
//        // res.json("Listed all the flights");
//     }).catch ((err) => {
//         if(err){
//             throw err;
//         }
//     })
// })
// app.put('/admin/flight/:flightCode', (req,res)=> {
//     axios.put('http://localhost:4545/flight/'+ req.params.flightCode , req.body).then((response)=> {
//         console.log(response.data);
//         res.json("Updated the required flight");
//     }).catch ((err) => {
//         if(err){
//             throw err;
//         }
//     })
// })
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiYXBwIiwiYXhpb3MiLCJib2R5UGFyc2VyIiwicmVzcG9uc2UiLCJ1c2UiLCJqc29uIiwic3dhZ2dlckpzRG9jIiwic3dhZ2dlclVpIiwiY29ycyIsIm9yaWdpbiIsInN3YWdnZXJPcHRpb25zIiwic3dhZ2dlckRlZmluaXRpb24iLCJpbmZvIiwidmVyc2lvbiIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJjb250YWN0IiwibmFtZSIsInNlcnZlcnMiLCJhcGlzIiwic3dhZ2dlckRvY3MiLCJzZXJ2ZSIsInNldHVwIiwiZ2V0IiwicmVxIiwicmVzIiwidGhlbiIsImRhdGEiLCJjYXRjaCIsImVyciIsInBhcmFtcyIsImZsaWdodENvZGUiLCJwb3N0IiwibmV3RmxpZ2h0IiwiYm9keSIsImFpcmxpbmUiLCJzb3VyY2UiLCJkZXN0aW5hdGlvbiIsImZhcmUiLCJkZWxldGUiLCJjb25zb2xlIiwibG9nIiwic2VuZCIsInB1dCIsImlkIiwibGlzdGVuIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IjQ0TkFlWTsyRkFmWjtBQUNBLEtBQU1BLENBQUFBLE9BQU8sMEJBQUdDLE9BQU8sQ0FBQyxTQUFELENBQVYsQ0FBYixDQUNBLEtBQU1DLENBQUFBLEdBQUcsMEJBQUdGLE9BQU8sRUFBVixDQUFULENBQ0EsS0FBTUcsQ0FBQUEsS0FBSywwQkFBR0YsT0FBTyxDQUFDLE9BQUQsQ0FBVixDQUFYLENBRUEsS0FBTUcsQ0FBQUEsVUFBVSwwQkFBR0gsT0FBTyxDQUFDLGFBQUQsQ0FBVixDQUFoQixDQUNBLEtBQU0sQ0FBRUksUUFBRiwyQkFBZUosT0FBTyxDQUFDLFNBQUQsQ0FBdEIsQ0FBTixDLHdCQUNBQyxHQUFHLENBQUNJLEdBQUosQ0FBUUYsVUFBVSxDQUFDRyxJQUFYLEVBQVIsRUFFQTtBQUNBLEtBQU1DLENBQUFBLFlBQVksMEJBQUdQLE9BQU8sQ0FBQyxlQUFELENBQVYsQ0FB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QTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiLy9sb2FkIGV4cHJlc3NcclxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbmNvbnN0IGF4aW9zID0gcmVxdWlyZShcImF4aW9zXCIpO1xyXG5cclxuY29uc3QgYm9keVBhcnNlciA9IHJlcXVpcmUoXCJib2R5LXBhcnNlclwiKTtcclxuY29uc3QgeyByZXNwb25zZSB9ID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xyXG5cclxuLy9sb2FkIHN3YWdnZXJcclxuY29uc3Qgc3dhZ2dlckpzRG9jID0gcmVxdWlyZShcInN3YWdnZXItanNkb2NcIik7XHJcbmNvbnN0IHN3YWdnZXJVaSA9IHJlcXVpcmUoXCJzd2FnZ2VyLXVpLWV4cHJlc3NcIik7XHJcblxyXG4vL2xvYWQgY29yc1xyXG5jb25zdCBjb3JzID0gcmVxdWlyZSgnY29ycycpXHJcbmFwcC51c2UoY29ycyh7IG9yaWdpbjogJ2h0dHA6Ly9sb2NhbGhvc3Q6NDIwMCd9KSlcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAgICAgICAgICAgICAgICAgU1dBR0dFUiBET0NVTUVOVEFUSU9OXHJcbi8vIEV4dGVuZGVkOiBodHRwczovL3N3YWdnZXIuaW8vc3BlY2lmaWNhdGlvbi8jaW5mb09iamVjdFxyXG5jb25zdCBzd2FnZ2VyT3B0aW9ucyA9IHtcclxuICAgIHN3YWdnZXJEZWZpbml0aW9uOiB7XHJcbiAgICAgIGluZm86IHtcclxuICAgICAgICB2ZXJzaW9uOiBcIjEuMC4wXCIsXHJcbiAgICAgICAgdGl0bGU6IFwiQWRtaW4gQVBJXCIsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IFwiQWRtaW4gQVBJIEluZm9ybWF0aW9uXCIsXHJcbiAgICAgICAgY29udGFjdDoge1xyXG4gICAgICAgICAgbmFtZTogXCJTdXJiaGlcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2VydmVyczogW1wiaHR0cDovL2xvY2FsaG9zdDo3Nzc3XCJdXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvLyBbJy5yb3V0ZXMvKi5qcyddXHJcbiAgICBhcGlzOiBbXCJhZG1pbi5qc1wiXVxyXG4gIH07XHJcbiAgXHJcbiAgY29uc3Qgc3dhZ2dlckRvY3MgPSBzd2FnZ2VySnNEb2Moc3dhZ2dlck9wdGlvbnMpO1xyXG4gIGFwcC51c2UoXCIvYXBpLWFkbWluXCIsIHN3YWdnZXJVaS5zZXJ2ZSwgc3dhZ2dlclVpLnNldHVwKHN3YWdnZXJEb2NzKSk7XHJcbiAgYXBwLnVzZShleHByZXNzLmpzb24oKSk7XHJcbiAgLyoqXHJcbiAgICogQHN3YWdnZXJcclxuICAgKiBkZWZpbml0aW9uczpcclxuICAgKiAgRmxpZ2h0OlxyXG4gICAqICAgdHlwZTogb2JqZWN0XHJcbiAgICogICBwcm9wZXJ0aWVzOlxyXG4gICAqICAgIGZsaWdodENvZGU6XHJcbiAgICogICAgICB0eXBlOiBzdHJpbmdcclxuICAgKiAgICAgIGRlc2NyaXB0aW9uOiBjb2RlIG9mIHRoZSBmbGlnaHRcclxuICAgKiAgICAgIGV4YW1wbGU6ICdTQzEwMSdcclxuICAgKiAgICBhaXJsaW5lOlxyXG4gICAqICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICogICAgICBkZXNjcmlwdGlvbjogbmFtZSBvZiB0aGUgYWlybGluZVxyXG4gICAqICAgICAgZXhhbXBsZTogJ1NwaWNlSmV0J1xyXG4gICAqICAgIHNvdXJjZTpcclxuICAgKiAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAqICAgICAgZGVzY3JpcHRpb246IHNvdXJjZVxyXG4gICAqICAgICAgZXhhbXBsZTogJ211bWJhaSdcclxuICAgKiAgICBkZXN0aW5hdGlvbjpcclxuICAgKiAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAqICAgICAgZGVzY3JpcHRpb246IERlc3RpbmF0aW9uXHJcbiAgICogICAgICBleGFtcGxlOiAnZGVsaGknXHJcbiAgICogICAgZmFyZTpcclxuICAgKiAgICAgIHR5cGU6IG51bWJlclxyXG4gICAqICAgICAgZGVzY3JpcHRpb246IGZhcmUgb2YgdGhlIGZsaWdodFxyXG4gICAqICAgICAgZXhhbXBsZTogMjAwMFxyXG4gICAqICAgIFxyXG4gICAqL1xyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gMV0gR2V0IGFsbCB0aGUgZmxpZ2h0cyBpbiBkYlxyXG4vKipcclxuICogQHN3YWdnZXJcclxuICogL2FkbWluL2ZsaWdodDpcclxuICogIGdldDpcclxuICogICAgdGFnczpcclxuICogICAgICAgLSBBZG1pblxyXG4gKiAgICBkZXNjcmlwdGlvbjogVXNlZCB0byBnZXQgYWxsIGZsaWdodHMgaW4gZGF0YWJhc2VcclxuICogICAgcmVzcG9uc2VzOlxyXG4gKiAgICAgICcyMDAnOlxyXG4gKiAgICAgICAgZGVzY3JpcHRpb246IExpc3RlZCBhbGwgdGhlIGZsaWdodHMgYXZhaWxhYmxlIGluIGZsaWdodERhdGEgRGJcclxuICovXHJcbmFwcC5nZXQoJy9hZG1pbi9mbGlnaHQnLCAocmVxLHJlcyk9PiB7XHJcbiAgICBcclxuICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo0NTQ1L2ZsaWdodHMnKS50aGVuKChyZXNwb25zZSk9PiB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmVzLmpzb24ocmVzcG9uc2UuZGF0YSlcclxuICAgICAgIC8vIHJlcy5qc29uKFwiTGlzdGVkIGFsbCB0aGUgZmxpZ2h0c1wiKTtcclxuICAgIH0pLmNhdGNoICgoZXJyKSA9PiB7XHJcbiAgICAgICAgaWYoZXJyKXtcclxuICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn0pXHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLy8gMl0gTGlzdCB0aGUgZmxpZ2h0cyBmcm9tIGZsaWdodCBtaWNyb3NlcnZpY2UgYnkgaXRzIGNvZGVcclxuLyoqXHJcbiAqIEBzd2FnZ2VyXHJcbiAqIC9hZG1pbi9mbGlnaHQve2ZsaWdodENvZGV9OlxyXG4gKiAgZ2V0OlxyXG4gKiAgICB0YWdzOlxyXG4gKiAgICAgICAtIEFkbWluXHJcbiAqICAgIHN1bW1hcnk6IEZldGNoIGEgZmxpZ2h0LlxyXG4gKiAgICBkZXNjcmlwdGlvbjogVXNlZCB0byBmZXRjaCBhIHNpbmdsZSBmbGlnaHRcclxuICogICAgcmVzcG9uc2VzOlxyXG4gKiAgICAgICcyMDAnOlxyXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFN1Y2Nlc3NmdWxseSBmZXRjaGVkIGZsaWdodFxyXG4gKiAgICAgICc1MDAnOlxyXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFNlcnZlciBlcnJvclxyXG4gKiAgcGFyYW1ldGVyczpcclxuICogICAgICAgLSBpbjogcGF0aFxyXG4gKiAgICAgICAgIG5hbWU6IGZsaWdodENvZGVcclxuICogICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gKiAgICAgICAgIHNjaGVtYTpcclxuICogICAgICAgICAgIHR5cGU6IFN0cmluZ1xyXG4gKiAgICAgICAgIGRlc2NyaXB0aW9uOiBUaGUgZmxpZ2h0IGNvZGVcclxuICovXHJcbmFwcC5nZXQoJy9hZG1pbi9mbGlnaHQvOmZsaWdodENvZGUnLCAocmVxLHJlcyk9PiB7XHJcbiAgICBcclxuICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo0NTQ1L2ZsaWdodENvZGUvJysgcmVxLnBhcmFtcy5mbGlnaHRDb2RlKS50aGVuKChyZXNwb25zZSk9PiB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmVzLmpzb24ocmVzcG9uc2UuZGF0YSlcclxuICAgICAgIC8vIHJlcy5qc29uKFwiTGlzdGVkIGFsbCB0aGUgZmxpZ2h0c1wiKTtcclxuICAgIH0pLmNhdGNoICgoZXJyKSA9PiB7XHJcbiAgICAgICAgaWYoZXJyKXtcclxuICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn0pXHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLy8gM10gQWRkIG5ldyBmbGlnaHQgaW4gZmxpZ2h0IG1pY3Jvc2VydmljZVxyXG4vKipcclxuICogQHN3YWdnZXJcclxuICogL2FkbWluL2ZsaWdodDpcclxuICogICBwb3N0OlxyXG4gKiAgICAgdGFnczpcclxuICogICAgICAgLSBBZG1pblxyXG4gKiAgICAgZGVzY3JpcHRpb246IENyZWF0ZXMgYSBuZXcgZmxpZ2h0XHJcbiAqICAgICBwcm9kdWNlczpcclxuICogICAgICAgLSBhcHBsaWNhdGlvbi9qc29uXHJcbiAqICAgICBwYXJhbWV0ZXJzOlxyXG4gKiAgICAgICAtIG5hbWU6IGZsaWdodFxyXG4gKiAgICAgICAgIGRlc2NyaXB0aW9uOiBGbGlnaHQgb2JqZWN0XHJcbiAqICAgICAgICAgaW46IGJvZHlcclxuICogICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gKiAgICAgICAgIHNjaGVtYTpcclxuICogICAgICAgICAgICRyZWY6ICcjL2RlZmluaXRpb25zL0ZsaWdodCdcclxuICogICAgIHJlc3BvbnNlczpcclxuICogICAgICAgMjAwOlxyXG4gKiAgICAgICAgIGRlc2NyaXB0aW9uOiBTdWNjZXNzZnVsbHkgY3JlYXRlZFxyXG4gKi9cclxuYXBwLnBvc3QoJy9hZG1pbi9mbGlnaHQnLCAocmVxLHJlcyk9PiB7XHJcbiAgICB2YXIgbmV3RmxpZ2h0ID0ge1xyXG4gICAgICAgIGZsaWdodENvZGU6IHJlcS5ib2R5LmZsaWdodENvZGUsXHJcbiAgICAgICAgYWlybGluZTogcmVxLmJvZHkuYWlybGluZSxcclxuICAgICAgICBzb3VyY2U6IHJlcS5ib2R5LnNvdXJjZSxcclxuICAgICAgICBkZXN0aW5hdGlvbjogcmVxLmJvZHkuZGVzdGluYXRpb24sXHJcbiAgICAgICAgZmFyZTogcmVxLmJvZHkuZmFyZSBcclxuICAgIH1cclxuICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6NDU0NS9mbGlnaHQnLCBuZXdGbGlnaHQpLnRoZW4oKHJlc3BvbnNlKT0+IHtcclxuICAgICAgICByZXMuanNvbihyZXNwb25zZS5kYXRhKVxyXG4gICAgICAgICAvL2NvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAvL3Jlcy5zZW5kKFwiTmV3IGZsaWdodCBhZGRlZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAgICB9KS5jYXRjaCAoKGVycikgPT4ge1xyXG4gICAgICAgIGlmKGVycil7XHJcbiAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59KVxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vIDRdIGRlbGV0ZSBmbGlnaHRzIGZyb20gZmxpZ2h0IG1pY3Jvc2VydmljZVxyXG4vKipcclxuICogQHN3YWdnZXJcclxuICogL2FkbWluL2ZsaWdodC97ZmxpZ2h0Q29kZX06XHJcbiAqICBkZWxldGU6XHJcbiAqICAgIHRhZ3M6XHJcbiAqICAgICAgIC0gQWRtaW5cclxuICogICAgc3VtbWFyeTogRGVsZXRlIGEgZmxpZ2h0LlxyXG4gKiAgICBkZXNjcmlwdGlvbjogVXNlZCB0byBkZWxldGUgYSBmbGlnaHRcclxuICogICAgcmVzcG9uc2VzOlxyXG4gKiAgICAgICcyMDAnOlxyXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFN1Y2Nlc3NmdWxseSBkZWxldGVkIGZsaWdodFxyXG4gKiAgICAgICc1MDAnOlxyXG4gKiAgICAgICAgZGVzY3JpcHRpb246IFNlcnZlciBlcnJvclxyXG4gKiAgcGFyYW1ldGVyczpcclxuICogICAgICAgLSBpbjogcGF0aFxyXG4gKiAgICAgICAgIG5hbWU6IGZsaWdodENvZGVcclxuICogICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gKiAgICAgICAgIHNjaGVtYTpcclxuICogICAgICAgICAgIHR5cGU6IFN0cmluZ1xyXG4gKiAgICAgICAgIGRlc2NyaXB0aW9uOiBUaGUgZmxpZ2h0IGNvZGVcclxuICovXHJcblxyXG5hcHAuZGVsZXRlKCcvYWRtaW4vZmxpZ2h0LzpmbGlnaHRDb2RlJywgKHJlcSxyZXMpPT4ge1xyXG4gICAgYXhpb3MuZGVsZXRlKCdodHRwOi8vbG9jYWxob3N0OjQ1NDUvZmxpZ2h0LycrIHJlcS5wYXJhbXMuZmxpZ2h0Q29kZSkudGhlbigocmVzcG9uc2UpPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlcS5wYXJhbXMuZmxpZ2h0Q29kZSk7XHJcbiAgICAgICAgcmVzLnNlbmQocmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAvL3Jlcy5qc29uKFwiRGVsZXRlZCB0aGUgcmVxdWlyZWQgZmxpZ2h0XCIpO1xyXG4gICAgfSkuY2F0Y2ggKChlcnIpID0+IHtcclxuICAgICAgICBpZihlcnIpe1xyXG4gICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufSlcclxuXHJcblxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vIDVdIFVwZGF0ZSBmbGlnaHRzIGZyb20gZmxpZ2h0IG1pY3Jvc2VydmljZVxyXG4vKipcclxuICogQHN3YWdnZXJcclxuICogL2FkbWluL2ZsaWdodC97aWR9OlxyXG4gKiAgIHB1dDpcclxuICogICAgIHRhZ3M6XHJcbiAqICAgICAgIC0gQWRtaW5cclxuICogICAgIGRlc2NyaXB0aW9uOiBDcmVhdGVzIGEgbmV3IGZsaWdodFxyXG4gKiAgICAgcHJvZHVjZXM6XHJcbiAqICAgICAgIC0gYXBwbGljYXRpb24vanNvblxyXG4gKiAgICAgcGFyYW1ldGVyczpcclxuICogICAgICAgLSBuYW1lOiBpZFxyXG4gKiAgICAgICAgIGRlc2NyaXB0aW9uOiBmbGlnaHQgb2JqZWN0IGlkXHJcbiAqICAgICAgICAgaW46IHBhdGhcclxuICogICAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gKiAgICAgICAgIHNjaGVtYTpcclxuICogICAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAqICAgICAgICAgIGRlc2NyaXB0aW9uOiB1c2VyJ3Mgb2JqZWN0IGlkXHJcbiAqICAgICAgIC0gbmFtZTogZmxpZ2h0XHJcbiAqICAgICAgICAgZGVzY3JpcHRpb246IEZsaWdodCBvYmplY3RcclxuICogICAgICAgICBpbjogYm9keVxyXG4gKiAgICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAqICAgICAgICAgc2NoZW1hOlxyXG4gKiAgICAgICAgICAgJHJlZjogJyMvZGVmaW5pdGlvbnMvRmxpZ2h0J1xyXG4gKiAgICAgcmVzcG9uc2VzOlxyXG4gKiAgICAgICAyMDA6XHJcbiAqICAgICAgICAgZGVzY3JpcHRpb246IEZsaWdodCBTdWNjZXNzZnVsbHkgdXBkYXRlZFxyXG4gKiAgICAgICA0MDA6XHJcbiAqICAgICAgICAgZGVzY3JpcHRpb246IFNlcnZlciBFcnJvclxyXG4gKi9cclxuYXBwLnB1dCgnL2FkbWluL2ZsaWdodC86aWQnLCAocmVxLHJlcyk9PiB7XHJcbiAgICBheGlvcy5wdXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6NDU0NS9mbGlnaHQvJysgcmVxLnBhcmFtcy5pZCAsIHJlcS5ib2R5KS50aGVuKChyZXNwb25zZSk9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJGbGlnaHQgVXBkYXRlZCFcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmVzLnNlbmQocmVzcG9uc2UuZGF0YSk7XHJcbiAgICB9KS5jYXRjaCAoKGVycikgPT4ge1xyXG4gICAgICAgIGlmKGVycil7XHJcbiAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG59KVxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbi8vbGlzdGVuIHRvIHRoZSBwb3J0XHJcbmFwcC5saXN0ZW4oNzc3NywgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJVcCBhbmQgcnVubmluZyB0aGlzIGlzIG91ciBhZG1pbiBzZXJ2aWNlXCIpO1xyXG59KVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBhcHA7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIGFwcC5kZWxldGUoJy9hZG1pbi9mbGlnaHQvOmlkJywgKHJlcSxyZXMpPT4ge1xyXG4vLyAgICAgYXhpb3MuZGVsZXRlKCdodHRwOi8vbG9jYWxob3N0OjQ1NDUvZmxpZ2h0LycrIHJlcS5wYXJhbXMuaWQpLnRoZW4oKHJlc3BvbnNlKT0+IHtcclxuLy8gICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcclxuLy8gICAgICAgICByZXMuanNvbihcIkRlbGV0ZWQgdGhlIHJlcXVpcmVkIGZsaWdodFwiKTtcclxuLy8gICAgIH0pLmNhdGNoICgoZXJyKSA9PiB7XHJcbi8vICAgICAgICAgaWYoZXJyKXtcclxuLy8gICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0pXHJcbi8vIH0pXHJcblxyXG5cclxuLy8gYXBwLmdldCgnL2FkbWluL2ZsaWdodC86aWQnLCAocmVxLHJlcyk9PiB7XHJcbiAgICBcclxuLy8gICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDo0NTQ1L2ZsaWdodC8nKyByZXEucGFyYW1zLmlkKS50aGVuKChyZXNwb25zZSk9PiB7XHJcbiAgICAgICAgXHJcbi8vICAgICAgICAgcmVzLmpzb24ocmVzcG9uc2UuZGF0YSlcclxuLy8gICAgICAgIC8vIHJlcy5qc29uKFwiTGlzdGVkIGFsbCB0aGUgZmxpZ2h0c1wiKTtcclxuLy8gICAgIH0pLmNhdGNoICgoZXJyKSA9PiB7XHJcbi8vICAgICAgICAgaWYoZXJyKXtcclxuLy8gICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0pXHJcbi8vIH0pXHJcblxyXG5cclxuLy8gYXBwLnB1dCgnL2FkbWluL2ZsaWdodC86ZmxpZ2h0Q29kZScsIChyZXEscmVzKT0+IHtcclxuLy8gICAgIGF4aW9zLnB1dCgnaHR0cDovL2xvY2FsaG9zdDo0NTQ1L2ZsaWdodC8nKyByZXEucGFyYW1zLmZsaWdodENvZGUgLCByZXEuYm9keSkudGhlbigocmVzcG9uc2UpPT4ge1xyXG4vLyAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgIFxyXG4vLyAgICAgICAgIHJlcy5qc29uKFwiVXBkYXRlZCB0aGUgcmVxdWlyZWQgZmxpZ2h0XCIpO1xyXG4vLyAgICAgfSkuY2F0Y2ggKChlcnIpID0+IHtcclxuLy8gICAgICAgICBpZihlcnIpe1xyXG4vLyAgICAgICAgICAgICB0aHJvdyBlcnI7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSlcclxuLy8gfSkiXX0=